(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[5],{225:function(t,e,n){"use strict";n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return h})),n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return s}));var r={};n.r(r),n.d(r,"getTasksList",(function(){return I})),n.d(r,"getTaskById",(function(){return w}));var c={};n.r(c),n.d(c,"tasks",(function(){return r}));var i={};n.r(i),n.d(i,"taskSchema",(function(){return B})),n.d(i,"normalizeTask",(function(){return H})),n.d(i,"normalizeTasks",(function(){return z})),n.d(i,"tasksInitialState",(function(){return J})),n.d(i,"$tasks",(function(){return G})),n.d(i,"$queryConfig",(function(){return M})),n.d(i,"$tasksListLoading",(function(){return Q})),n.d(i,"$taskDetailsLoading",(function(){return R})),n.d(i,"$tasksList",(function(){return q})),n.d(i,"$tasksFiltered",(function(){return A})),n.d(i,"$tasksListEmpty",(function(){return K})),n.d(i,"events",(function(){return P})),n.d(i,"effects",(function(){return U})),n.d(i,"selectors",(function(){return V}));var s={};n.r(s),n.d(s,"getTaskStatus",(function(){return W}));var o=n(227),a=n(228),u=n(86),d=n(96),l=n(233),f=n.n(l),j=n(24),b=["data","titleHref","children"],k=function(t){var e=t.data,n=t.titleHref,r=t.children,c=Object(a.a)(t,b);return e||c.loading?Object(j.jsxs)(d.b,Object(o.a)(Object(o.a)({title:"Task#".concat(c.loading?"":null===e||void 0===e?void 0:e.id),className:f.a.root},c),{},{children:[n?Object(j.jsx)(u.b,{to:n,children:null===e||void 0===e?void 0:e.title}):null===e||void 0===e?void 0:e.title,r]})):null},O=n(232),p=n(5),g=n.n(p),v=n(234),m=n.n(v),h=function(t){var e=t.data,n=t.before,r=t.titleHref,c=r?Object(j.jsx)(u.b,{to:r,children:e.title}):e.title;return Object(j.jsxs)(d.i,{className:g()(m.a.root,Object(O.a)({},m.a.completed,e.completed)),children:[n,c]})},x=n(226),y=n(230),L=n(247),T=n(238),_=n.n(T),S=n(97),E=_.a.create({baseURL:S.a}),$=["taskId"],C="/todos",I=function(t){return E.get(C,{params:t})},w=function(t){var e=t.taskId,n=Object(a.a)(t,$);return E.get("".concat(C,"/").concat(e),{params:n})},F=Object(x.createEvent)(),N=Object(x.createEffect)((function(t){return c.tasks.getTasksList(t)})),D=Object(x.createEffect)((function(t){return c.tasks.getTaskById(t)})),B=new L.b.Entity("tasks"),H=function(t){return Object(L.a)(t,B)},z=function(t){return Object(L.a)(t,[B])},J={},G=Object(x.createStore)(J).on(N.doneData,(function(t,e){return z(e.data).entities.tasks})).on(D.doneData,(function(t,e){return Object(o.a)(Object(o.a)({},t),H(e.data).entities.tasks)})),M=Object(x.createStore)({}).on(F,(function(t,e){return e})),Q=N.pending,R=D.pending,q=Object(x.combine)(G,(function(t){return Object.values(t)})),A=Object(x.combine)(q,M,(function(t,e){return t.filter((function(t){return void 0===e.completed||t.completed===e.completed}))})),K=A.map((function(t){return 0===t.length})),P={setQueryConfig:F},U={getTaskByIdFx:D,getTasksListFx:N},V={useTask:function(t){return Object(y.useStore)(G)[t]}},W=function(t){return t.completed?"CLOSED":"OPENED"}},233:function(t,e,n){t.exports={root:"styles_root__1Slir"}},234:function(t,e,n){t.exports={root:"styles_root__fGMdR",completed:"styles_completed__2aSOy"}},236:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(96),c=n(225),i=n(226),s=n(248),o=Object(i.createEvent)();c.d.$tasks.on(o,(function(t,e){return Object(s.a)(t,(function(t){var n=t[e];n.completed=!n.completed}))}));var a={toggleTask:o},u=n(24),d=function(t){var e=t.taskId,n=t.withStatus,i=void 0===n||n,s=c.d.selectors.useTask(e);if(!s)return null;var o=c.c.getTaskStatus(s);return Object(u.jsx)(r.c,{onClick:function(){return a.toggleTask(e)},checked:s.completed,children:i&&o})}},270:function(t,e,n){t.exports={root:"styles_root__3vhW2",toolbar:"styles_toolbar__2OJM3",content:"styles_content__1K7j8"}},274:function(t,e,n){"use strict";n.r(e);var r=n(96),c=n(229),i=n(226),s=n(225),o={1:{id:1,title:"All",config:{}},2:{id:2,title:"Opened",config:{completed:!1}},3:{id:3,title:"Closed",config:{completed:!0}}},a=Object.values(o),u=n(24),d=Object(c.reflect)({view:function(t){var e=t.loading,n=t.onFilterClick;return Object(u.jsx)(r.g.Group,{defaultValue:1,buttonStyle:"solid",children:a.map((function(t){var c=t.title,i=t.id;return Object(u.jsx)(r.g.Button,{onClick:function(){return n(function(t){return o[t]}(i).config)},value:i,disabled:e,children:c},i)}))})},bind:{loading:s.d.$tasksListLoading,onFilterClick:s.d.events.setQueryConfig}}),l=n(236),f=n(270),j=n.n(f),b=Object(c.list)({view:function(t){var e=t.task;return Object(u.jsx)(r.d,{span:24,children:Object(u.jsx)(s.b,{data:e,titleHref:"/".concat(e.id),before:Object(u.jsx)(l.a,{taskId:e.id,withStatus:!1})})},e.id)},source:s.d.$tasksFiltered,bind:{},mapItem:{task:function(t){return t}}}),k=Object(c.variant)({source:Object(i.combine)({isLoading:s.d.$tasksListLoading,isEmpty:s.d.$tasksListEmpty},(function(t){var e=t.isLoading,n=t.isEmpty;return e?"loading":n?"empty":"ready"})),cases:{loading:function(){return Object(u.jsx)(r.j,{size:"large"})},empty:function(){return Object(u.jsx)(r.e,{description:"No tasks found"})},ready:b},hooks:{mounted:s.d.effects.getTasksListFx.prepend((function(){}))}});e.default=function(){return Object(u.jsxs)(r.f,{className:j.a.root,children:[Object(u.jsxs)(r.f,{className:j.a.toolbar,children:[Object(u.jsx)(r.i,{justify:"center",children:Object(u.jsx)(r.k.Title,{level:1,children:"Tasks List"})}),Object(u.jsx)(r.i,{justify:"center",children:Object(u.jsx)(d,{})})]}),Object(u.jsx)(r.f.Content,{className:j.a.content,children:Object(u.jsx)(r.i,{gutter:[0,20],justify:"center",children:Object(u.jsx)(k,{})})})]})}}}]);
//# sourceMappingURL=5.0145c855.chunk.js.map