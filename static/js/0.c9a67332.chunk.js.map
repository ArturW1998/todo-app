{"version":3,"sources":["../node_modules/axios/lib/utils.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../effector/is.ts","../effector/region.ts","../effector/createNode.ts","../effector/tag.ts","../effector/kernel.ts","../effector/naming.ts","../effector/collection.ts","../effector/createUnit.ts","../effector/combine.ts","../effector/defer.ts","../effector/createEffect.ts","../effector/attach.ts","../effector/createApi.ts","../effector/createDomain.ts","../effector/fromObservable.ts","../effector/merge.ts","../effector/sample.ts","../effector/guard.ts","../effector/restore.ts","../effector/split.ts","../effector/fork.ts","../effector/observable.ts","../effector/validate.ts","../effector/throw.ts","../effector/id.ts","../effector/bind.ts","../effector/step.ts","../effector/stateRef.ts","../effector/caller.ts","../effector/getter.ts","../effector/own.ts","../effector/config.ts","../effector/clearNode.ts","../effector/subscription.ts","../effector/forward.ts","../effector/watch.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/@effector/reflect/no-ssr/index.js","../effector-react/useStore.ts","../effector-react/withDisplayName.ts","../effector-react/createComponent.ts","../effector-react/createStoreConsumer.ts","../effector-react/useList.ts","../effector-react/createReactState.ts","../effector-react/createGate.ts","../effector-react/nossr.ts","../effector-react/useIsomorphicLayoutEffect.ts","../effector-react/throw.ts","../effector-react/createContextComponent.ts","../effector-react/connect.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/axios/lib/defaults.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/axios/index.js","../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/core/enhanceError.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/core/createError.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/core/mergeConfig.js","../node_modules/axios/lib/cancel/Cancel.js","../node_modules/normalizr/dist/normalizr.es.js","../../src/utils/errors.ts","../../src/utils/common.ts","../../src/types/types-internal.ts","../../src/utils/plugins.ts","../../src/core/scope.ts","../../src/core/finalize.ts","../../src/core/proxy.ts","../../src/core/immerClass.ts","../../src/core/current.ts","../../src/immer.ts","../../src/utils/env.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/@effector/reflect/dist/no-ssr/index.js","../node_modules/@effector/reflect/dist/list-98ebb739.js","../node_modules/axios/lib/axios.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/helpers/normalizeHeaderName.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/core/buildFullPath.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/helpers/validator.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/lib/helpers/isAxiosError.js"],"names":["bind","require","toString","Object","prototype","isArray","val","call","isUndefined","isObject","isPlainObject","getPrototypeOf","isFunction","forEach","obj","fn","i","l","length","key","hasOwnProperty","module","exports","isArrayBuffer","isBuffer","constructor","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","window","document","merge","result","assignValue","slice","arguments","extend","a","b","thisArg","trim","str","replace","stripBOM","content","charCodeAt","_slicedToArray","arr","Array","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","unsupportedIterableToArray","TypeError","_createForOfIteratorHelper","o","allowArrayLike","it","F","s","n","e","f","normalCompletion","didErr","step","_e2","assertNodeSetItem","method","valueName","reason","throwError","assertNodeSet","withRegion","unit","cb","unitMeta","getGraph","meta","regionStack","parent","template","readTemplate","sidRoot","getParent","createNode","node","from","source","to","target","child","scope","family","familyRaw","type","regional","sources","arrifyNodes","links","owners","seq","reg","item","addToReg","id","nextNodeID","getOwners","getLinks","own","getValue","launch","payload","upsert","pageForLaunch","currentPage","stackForLaunch","forkPageForLaunch","forkPage","params","defer","page","getForkPage","pushFirstHeapItem","isRoot","stop","skip","lastStartedState","isWatch","kernelLoop","deleteMin","idx","stack","local","fail","stepn","data","barrierID","fullID","priority","barriers","has","add","pushHeap","delete","store","STORE","getPageForRef","readRef","getPageRef","current","tryRun","op","unitObjectName","objOrArr","name","comma","is","compositeName","fullName","setStoreName","rawName","createName","shortName","currentComposite","path","composite","concat","forIn","list","createEvent","nameOrConfig","maybeConfig","event","args","oldPage","setCurrentPage","create","graphite","initUnit","find","watch","watchUnit","map","config","mapped","mapName","createComputation","MAP","filter","createEventFiltration","callStack","filterMap","defined","prepend","contramapped","upward","applyParentHook","createStore","defaultState","props","onEvent","off","getSubscribers","set","createSubscription","updateStore","updateFilter","plainState","createStateRef","oldState","updates","createNamedEvent","after","plain","plainStateId","subscribers","Map","stateRef","getState","reachedPage","targetRef","setState","state","nodeMap","reset","units","on","nodeSet","currentSubscription","get","firstState","lastResult","storeState","innerStore","strict","linkNode","getStoreState","before","includes","loader","unshift","eventOrFn","subscription","of","defaultConfig","changed","update","_","isStrict","combine","handler","stores","onConfigNesting","injectedData","userConfig","structStoreShape","shapeReady","rawHandler","spreadArgs","storeCombination","createDefer","req","Promise","rs","rj","catch","createEffect","instance","getType","onCopy","kind","use","anyway","finally","named","status","error","doneData","failData","effectRunner","getHandler","getCurrent","onResolve","onSettled","ok","onReject","then","fx","runner","upd","savedFork","setForkPage","inFlight","x","pending","amount","attach","injected","effect","mapParams","runnerSteps","attached","runnerFn","computedParams","readStateRef","splice","createApi","processArgsToConfig","setters","metadata","createDomain","domains","Set","effects","events","history","domain","hooks","onCreateEvent","createHook","onCreateEffect","onCreateStore","onCreateDomain","forward","fromObservable","observable","assertObject","observableItem","observableSymbol","subscribe","disposer","bind2","clearNode","complete","sample","sid","greedy","clock","atLeastOneFieldExists","sampleConfigFields","field","needToCombine","isUpward","targetTemplate","nativeTemplate","sourceRef","createLinkNode","callARegStack","closure","hasSource","sourceState","clockState","callStackAReg","guard","filterIsUnit","restore","É”","v","split","targets","match","knownCases","cases","matchIsUnit","matchIsFunction","matchIsShape","__","splitterSeq","values","caseNames","keys","scopeTargets","String","launchCase","lastValues","needBarrier","updaterSteps","storeOrFn","updater","storeRef","caseName","hydrate","isScope","cloneOf","storeWatches","storeWatchesRefs","normalizedValues","normalizeValues","sidMap","changedStores","forkOf","fillResult","collectWatches","flatGraphUnits","refsMap","predefinedRefs","valuesSidList","getOwnPropertyNames","owner","ref","toposort","createRefGraph","isFresh","cmd","flatGraph","items","refGraph","serialize","clones","ignore","onlyChanges","isCombine","scopeBind","savedForkPage","localUnit","assertEach","fork","handlers","needToFill","forked","findClone","index","indexOf","unitName","refs","putStoreToChanged","forkInFlightCounter","defers","fxID","resolve","parentFork","hasRef","newRef","copyField","origValue","forEachRelatedNode","siblings","wrapped","wrapStore","EFFECT","sourceList","sourceRefsMap","templateOwnedRefs","handlerKeys","rawGraph","topologicalSortHelper","temp","neighbors","graph","visited","reverse","size","processed","ignored","shift","removeItem","allSettled","start","ctx","reject","Error","launchUnits","launchParams","traverse","message","idCount","nextUnitID","nextStepID","arg","nextBarrierID","barrier","mov","check","compute","run","getConfig","opts","getNestedConfig","ownerUnit","link","readSidRoot","withFactory","loc","heap","ret","isSameType","r","queue","ix","first","last","getPriority","bucket","t","newForkPage","newPage","console","joinName","tag","rawConfig","pos","removeFromNode","currentNode","targetNode","clearNodeNormalized","deep","isDomainUnit","pop","clearMap","clear","ownerSet","unsubscribe","forkedNode","normalizeConfig","part","hookType","rawConfigA","rawConfigB","isDomain","unitId","thru","observer","stateFirst","clone","stateNew","rawShape","childRef","defaultShape","sidechain","trigger","acc","res","hook","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread2","getOwnPropertyDescriptors","defineProperties","defineProperty","_objectWithoutProperties","excluded","sourceKeys","sourceSymbolKeys","propertyIsEnumerable","useStore","currentValue","inc","React","useReducer","currentStore","useRef","useIsomorphicLayoutEffect","newValue","useStoreMap","configOrStore","separateFn","useMemo","withDisplayName","Component","displayName","createComponent","shape","renderProp","RenderComponent","propsRef","mounted","unmounted","storeName","createStoreConsumer","children","useList","renderItem","getKey","Item","keyVal","fnRef","memo","keysSelfMemo","createElement","createReactState","assign","useGate","GateComponent","open","close","aKeys","bKeys","createGate","useGateHook","Boolean","useEvent","useLayoutEffect","useEffect","createContextComponent","context","useContext","connect","View","_unsupportedIterableToArray","minLen","test","_defineProperty","configurable","writable","utils","normalizeHeaderName","enhanceError","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","headers","defaults","transitional","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","adapter","XMLHttpRequest","process","getDefaultAdapter","transformRequest","JSON","stringify","transformResponse","this","strictJSONParsing","responseType","parse","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","maxBodyLength","validateStatus","common","_arrayLikeToArray","len","arr2","encode","encodeURIComponent","url","paramsSerializer","serializedParams","parts","toISOString","join","hashmarkIndex","code","request","response","isAxiosError","toJSON","description","number","fileName","lineNumber","columnNumber","settle","cookies","buildURL","buildFullPath","parseHeaders","isURLSameOrigin","createError","requestData","requestHeaders","auth","username","password","unescape","Authorization","btoa","fullPath","baseURL","onloadend","responseHeaders","getAllResponseHeaders","responseText","statusText","toUpperCase","onreadystatechange","readyState","responseURL","setTimeout","onabort","onerror","ontimeout","timeoutErrorMessage","xsrfValue","withCredentials","read","toLowerCase","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","cancel","abort","send","__CANCEL__","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","directMergeKeys","getMergedValue","mergeDeepProperties","prop","axiosKeys","otherKeys","Cancel","_defineProperties","descriptor","_createClass","Constructor","protoProps","staticProps","_extends","_inheritsLoose","subClass","superClass","__proto__","isImmutable","_map","denormalizeImmutable","schema","input","unvisit","reduce","stringKey","EntitySchema","definition","options","_options","_options$idAttribute","idAttribute","_options$mergeStrateg","mergeStrategy","entityA","entityB","_options$processStrat","processStrategy","_options$fallbackStra","fallbackStrategy","_key","_getId","getDefaultGetId","_idAttribute","_mergeStrategy","_processStrategy","_fallbackStrategy","define","_proto","entitySchema","_extends2","getId","fallback","normalize","visit","addEntity","visitedEntities","_this","entityType","some","entity","processedEntity","resolvedSchema","denormalize","_this2","PolymorphicSchema","schemaAttribute","_schemaAttribute","getSchemaAttribute","isSingleSchema","inferSchema","attr","normalizeValue","normalizedValue","denormalizeValue","schemaKey","UnionSchema","_PolymorphicSchema","ValuesSchema","output","_extends3","entityOrId","validateSchema","getValues","ArraySchema","_normalize","localSchema","resolvedLocalSchema","_denormalize","Entity","ObjectSchema","_len","_len2","_key2","Union","Values","normalize$1","entities","existingEntity","addEntities","die","msg","isDraft","DRAFT_STATE","isDraftable","proto","Ctor","Function","objectCtorString","DRAFTABLE","isMap","isSet","each","iter","getArchtype","entry","thing","type_","propOrOldValue","y","hasMap","hasSet","latest","copy_","base_","shallowCopy","base","descriptors","desc","freeze","isFrozen","dontMutateFrozenCollections","getPlugin","pluginKey","plugin","plugins","getCurrentScope","currentScope","usePatchesInScope","patchListener","patches_","inversePatches_","patchListener_","revokeScope","leaveScope","drafts_","revokeDraft","parent_","enterScope","immer","immer_","canAutoFreeze_","unfinalizedDrafts_","draft","revoke_","revoked_","processResult","baseDraft","isReplaced","useProxies_","willFinalizeES5_","modified_","finalize","maybeFreeze","generateReplacementPatches_","NOTHING","rootScope","childValue","finalizeProperty","scope_","finalized_","draft_","generatePatches_","parentState","targetObject","rootPath","assigned_","autoFreeze_","peek","getDescriptorFromProto","markChanged","prepareCopy","createProxy","proxyMap_","proxySet_","isManual_","traps","objectTraps","arrayTraps","Proxy","revocable","revoke","proxy","createES5Proxy_","currentImpl","copy","archType","hasChanges_","copyHelper","hasSymbol","hasProxies","Reflect","for","currentState","deleteProperty","setPrototypeOf","recipe","defaultBase","self","produce","hasError","arg1","arg2","produceWithPatches","p","ip","patches","inversePatches","useProxies","setUseProxies","autoFreeze","setAutoFreeze","createDraft","finishDraft","applyPatches","patch","applyPatchesImpl","applyPatches_","_toConsumableArray","arrayLikeToArray","list$1","_interopNamespace","__esModule","k","d","context__namespace","reflect","reflectFactory","createReflect","reflectCreateFactory","variant","variantFactory","listFactory","react","effector","$bind","_a","_b","storeProps","eventsProps","elementProps","hookMounted","readHook","hookUnmounted","view","Default","ItemView","finalProps","mapItem","propValue","nameOfCase","Axios","mergeConfig","createInstance","axios","instanceConfig","CancelToken","isCancel","all","promises","spread","default","InterceptorManager","dispatchRequest","validator","validators","interceptors","assertOptions","boolean","requestInterceptorChain","synchronousRequestInterceptors","interceptor","runWhen","synchronous","fulfilled","rejected","responseInterceptorChain","chain","newConfig","onFulfilled","onRejected","getUri","eject","h","transformData","throwIfCancellationRequested","throwIfRequested","fns","normalizedName","write","expires","secure","cookie","Date","toGMTString","RegExp","decodeURIComponent","remove","now","isAbsoluteURL","combineURLs","requestedURL","relativeURL","ignoreDuplicateOf","parsed","line","substr","originURL","msie","userAgent","urlParsingNode","resolveURL","href","setAttribute","protocol","host","search","hash","hostname","port","pathname","charAt","location","requestURL","pkg","deprecatedWarnings","currentVerArr","version","isOlderVersion","thanVersion","pkgVersionArr","destVer","isDeprecated","formatMessage","opt","warn","allowUnknown","executor","resolvePromise","token","c","callback"],"mappings":"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","file":"static/js/0.c9a67332.chunk.js","sourcesContent":["'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","//eslint-disable-next-line\nexport * as is from './validate'\nimport {throwError} from './throw'\n\nexport const isObject = (value: any) =>\n  typeof value === 'object' && value !== null\nexport const isFunction = (value: any) => typeof value === 'function'\n\nexport const assertObject = (value: any) => {\n  if (!isObject(value) && !isFunction(value))\n    throwError('expect first argument be an object') // or function\n}\n\nfunction assertNodeSetItem(value: any, method: string, valueName: string, reason: string) {\n  if ((!isObject(value) && !isFunction(value)) || (!('family' in value) && !('graphite' in value))) {\n    throwError(`${method}: expect ${valueName} to be a unit (store, event or effect)${reason}`)\n  }\n}\nexport function assertNodeSet(value: any, method: string, valueName: string) {\n  if (Array.isArray(value)) {\n    for (let i = 0; i < value.length; i++) {\n      const item = value[i]\n      assertNodeSetItem(item, method, `${i} item of ${valueName}`, '')\n    }\n  } else {\n    assertNodeSetItem(value, method, valueName, ' or array of units')\n  }\n}\n","import {getValue, getGraph, getParent} from './getter'\nimport {own} from './own'\nimport {createNode} from './createNode'\n\ntype RegionStack = {\n  parent: RegionStack | null\n  value: any\n  template: any\n  sidRoot?: string\n}\n\nexport let regionStack: RegionStack | null = null\n\nexport const readTemplate = () => regionStack && regionStack.template\nexport const readSidRoot = (sid?: string | null) => {\n  if (sid && regionStack && regionStack.sidRoot)\n    sid = `${regionStack.sidRoot}É”${sid}`\n  return sid\n}\n\nexport function withRegion(unit: any, cb: () => void) {\n  const unitMeta = getGraph(unit).meta\n  regionStack = {\n    parent: regionStack,\n    value: unit,\n    template: unitMeta.template || readTemplate(),\n    sidRoot: unitMeta.sidRoot || (regionStack && regionStack.sidRoot),\n  }\n  try {\n    return cb()\n  } finally {\n    regionStack = getParent(regionStack)\n  }\n}\n\nexport const withFactory = ({\n  sid,\n  name,\n  loc,\n  method,\n  fn,\n}: {\n  sid: string\n  name?: string\n  loc?: any\n  method?: string\n  fn: () => any\n}) => {\n  const sidNode = createNode({\n    meta: {\n      sidRoot: readSidRoot(sid),\n      name,\n      loc,\n      method,\n    },\n  })\n  return withRegion(sidNode, fn)\n}\n","import {Node, NodeUnit, Cmd, StateRef} from './index.h'\nimport {getGraph, getOwners, getLinks, getValue} from './getter'\nimport {nextNodeID} from './id'\nimport {CROSSLINK, STORE} from './tag'\nimport {regionStack} from './region'\nimport {own} from './own'\n\nconst arrifyNodes = (\n  list: NodeUnit | Array<NodeUnit | NodeUnit[]> = [],\n): Node[] => {\n  const result = []\n  if (Array.isArray(list)) {\n    for (let i = 0; i < list.length; i++) {\n      if (Array.isArray(list[i])) result.push(...(list[i] as any))\n      else result.push(list[i])\n    }\n  } else {\n    result.push(list)\n  }\n  return result.map(getGraph)\n}\nexport const addToReg = (\n  {hasRef, type, data}: any,\n  reg: Record<string, StateRef>,\n) => {\n  let store\n  if (hasRef) {\n    store = data.store\n    reg[store.id] = store\n  }\n  if (type === 'mov' && data.to === STORE) {\n    store = data.target\n    reg[store.id] = store\n  }\n}\nexport function createNode({\n  node = [],\n  from,\n  source,\n  parent = from || source,\n  to,\n  target,\n  child = to || target,\n  scope = {},\n  meta = {},\n  family: familyRaw = {type: 'regular'},\n  regional,\n}: {\n  node?: Array<Cmd | false | void | null>\n  from?: NodeUnit | NodeUnit[]\n  source?: NodeUnit | NodeUnit[]\n  parent?: NodeUnit | NodeUnit[]\n  to?: NodeUnit | NodeUnit[]\n  target?: NodeUnit | NodeUnit[]\n  child?: NodeUnit | NodeUnit[]\n  scope?: {[name: string]: any}\n  meta?: {[name: string]: any}\n  family?: {\n    type?: 'regular' | 'crosslink' | 'domain'\n    links?: NodeUnit | NodeUnit[]\n    owners?: NodeUnit | Array<NodeUnit | NodeUnit[]>\n  }\n  regional?: boolean\n} = {}): Node {\n  const sources = arrifyNodes(parent)\n  const links = arrifyNodes(familyRaw.links)\n  const owners = arrifyNodes(familyRaw.owners)\n  const seq: Cmd[] = []\n  const reg: {[id: string]: StateRef} = {}\n  for (let i = 0; i < node.length; i++) {\n    const item = node[i]\n    if (!item) continue\n    seq.push(item)\n    addToReg(item, reg)\n  }\n  const result: Node = {\n    id: nextNodeID(),\n    seq,\n    next: arrifyNodes(child),\n    meta,\n    scope,\n    family: {\n      type: familyRaw.type || CROSSLINK,\n      links,\n      owners,\n    },\n    reg,\n  }\n  for (let i = 0; i < links.length; i++) {\n    getOwners(links[i]).push(result)\n  }\n  for (let i = 0; i < owners.length; i++) {\n    getLinks(owners[i]).push(result)\n  }\n  for (let i = 0; i < sources.length; i++) {\n    sources[i].next.push(result)\n  }\n  if (regional && regionStack) {\n    own(getValue(regionStack), [result])\n  }\n  return result\n}\n","export const STORE = 'store'\nexport const EVENT = 'event'\nexport const EFFECT = 'effect'\nexport const DOMAIN = 'domain'\nexport const SAMPLER = 'sampler'\nexport const CROSSLINK = 'crosslink'\nexport const MAP = 'map'\nexport const STACK = 'stack'\nexport const BARRIER = 'barrier'\nexport const VALUE = 'value'\nexport const FORK_COUNTER = 'forkInFlightCounter'\nexport const SAMPLE = 'sample'\nexport const FILTER = 'filter'\nexport const REG_A = 'a'\n","import {Node, NodeUnit} from './index.h'\nimport {readRef} from './stateRef'\nimport {getForkPage, getGraph, getParent, getValue} from './getter'\nimport {\n  STORE,\n  EFFECT,\n  SAMPLER,\n  STACK,\n  BARRIER,\n  VALUE,\n  FILTER,\n  REG_A,\n} from './tag'\n\n/** Names of priority groups */\ntype PriorityTag = 'child' | 'pure' | 'barrier' | 'sampler' | 'effect'\n\n/**\n * Position in the current branch,\n * including call stack, priority type\n * and index of next step in the executed Node\n */\ntype Layer = {\n  idx: number\n  stack: Stack\n  type: PriorityTag\n  id: number\n}\n\n/** Call stack */\ntype Stack = {\n  value: any\n  a: any\n  b: any\n  parent: Stack | null\n  node: Node\n  page: {[id: string]: any} | null\n  forkPage?: any\n}\n\n/** Queue as linked list or skew heap */\ntype QueueItem = {\n  /** node value */\n  v: Layer\n  /** left node. always null in queue but used in skew heap */\n  l: QueueItem | null\n  /** right node */\n  r: QueueItem | null\n}\ntype QueueBucket = {\n  first: QueueItem | null\n  last: QueueItem | null\n  size: number\n}\n\n/** Dedicated local metadata */\ntype Local = {\n  fail: boolean\n  scope: {[key: string]: any}\n}\n\nlet heap: QueueItem | null = null\n\nconst merge = (a: QueueItem | null, b: QueueItem | null): QueueItem | null => {\n  if (!a) return b\n  if (!b) return a\n\n  let ret\n  const isSameType = a.v.type === b.v.type\n  if (\n    /**\n     * if both nodes has the same PriorityType\n     * and first node is created after second one\n     */\n    (isSameType && a.v.id > b.v.id) ||\n    /** if first node is \"sampler\" and second node is \"barrier\" */\n    (!isSameType && a.v.type === SAMPLER)\n  ) {\n    ret = a\n    a = b\n    b = ret\n  }\n  ret = merge(a.r, b)\n  a.r = a.l\n  a.l = ret\n\n  return a\n}\n\n/** queue buckets for each PriorityType */\nconst queue: QueueBucket[] = []\nlet ix = 0\nwhile (ix < 5) {\n  /**\n   * although \"sampler\" and \"barrier\" are using heap instead of linked list,\n   * their buckets are still useful: they maintains size of heap queue\n   */\n  queue.push({first: null, last: null, size: 0})\n  ix += 1\n}\n\nconst deleteMin = () => {\n  for (let i = 0; i < 5; i++) {\n    const list = queue[i]\n    if (list.size > 0) {\n      /**\n       * second bucket is for \"barrier\" PriorityType (used in combine)\n       * and third bucket is for \"sampler\" PriorityType (used in sample and guard)\n       */\n      if (i === 2 || i === 3) {\n        list.size -= 1\n        const value = heap!.v\n        heap = merge(heap!.l, heap!.r)\n        return value\n      }\n      if (list.size === 1) {\n        list.last = null\n      }\n      const item = list.first\n      list.first = item!.r\n      list.size -= 1\n      return item!.v\n    }\n  }\n}\nconst pushFirstHeapItem = (\n  type: PriorityTag,\n  page: {[id: string]: any} | null,\n  node: Node,\n  parent: Stack | null,\n  value: any,\n  forkPage: any | void,\n) =>\n  pushHeap(\n    0,\n    {\n      a: null,\n      b: null,\n      node,\n      parent,\n      value,\n      page,\n      forkPage,\n    },\n    type,\n  )\nconst pushHeap = (idx: number, stack: Stack, type: PriorityTag, id = 0) => {\n  const priority = getPriority(type)\n  const bucket: QueueBucket = queue[priority]\n  const item: QueueItem = {\n    v: {\n      idx,\n      stack,\n      type,\n      id,\n    },\n    //@ts-ignore\n    l: 0,\n    //@ts-ignore\n    r: 0,\n  }\n  /**\n   * second bucket is for \"barrier\" PriorityType (used in combine)\n   * and third bucket is for \"sampler\" PriorityType (used in sample and guard)\n   */\n  if (priority === 2 || priority === 3) {\n    heap = merge(heap, item)\n  } else {\n    if (bucket.size === 0) {\n      bucket.first = item\n    } else {\n      bucket.last!.r = item\n    }\n    bucket.last = item\n  }\n  bucket.size += 1\n}\n\nconst getPriority = (t: PriorityTag) => {\n  switch (t) {\n    case 'child':\n      return 0\n    case 'pure':\n      return 1\n    case BARRIER:\n      return 2\n    case SAMPLER:\n      return 3\n    case EFFECT:\n      return 4\n    default:\n      return -1\n  }\n}\n\nconst barriers = new Set()\n\nlet isRoot = true\nexport let isWatch = false\nexport let currentPage: any = null\nexport let forkPage: any\nexport const setForkPage = (newForkPage: any) => {\n  forkPage = newForkPage\n}\nexport const setCurrentPage = (newPage: any) => {\n  currentPage = newPage\n}\n\nconst getPageForRef = (page: any, id: string) => {\n  if (page) {\n    while (page && !page.reg[id]) {\n      page = getParent(page)\n    }\n    if (page) return page\n  }\n  return null\n}\nconst getPageRef = (page: any, node: Node, id: string) => {\n  const pageForRef = getPageForRef(page, id)\n  return (pageForRef ? pageForRef : node).reg[id]\n}\n\nexport function launch(config: {\n  target: NodeUnit | NodeUnit[]\n  params?: any\n  defer?: boolean\n  page?: any\n  forkPage?: any\n  stack?: Stack\n}): void\nexport function launch(unit: NodeUnit, payload?: any, upsert?: boolean): void\nexport function launch(unit: any, payload?: any, upsert?: boolean) {\n  let pageForLaunch = currentPage\n  let stackForLaunch = null\n  let forkPageForLaunch = forkPage\n  if (unit.target) {\n    payload = unit.params\n    upsert = unit.defer\n    pageForLaunch = 'page' in unit ? unit.page : pageForLaunch\n    if (unit[STACK]) stackForLaunch = unit[STACK]\n    forkPageForLaunch = getForkPage(unit) || forkPageForLaunch\n    unit = unit.target\n  }\n  if (forkPageForLaunch && forkPage && forkPageForLaunch !== forkPage) {\n    forkPage = null\n  }\n  if (Array.isArray(unit)) {\n    for (let i = 0; i < unit.length; i++) {\n      pushFirstHeapItem(\n        'pure',\n        pageForLaunch,\n        getGraph(unit[i]),\n        stackForLaunch,\n        payload[i],\n        forkPageForLaunch,\n      )\n    }\n  } else {\n    pushFirstHeapItem(\n      'pure',\n      pageForLaunch,\n      getGraph(unit),\n      stackForLaunch,\n      payload,\n      forkPageForLaunch,\n    )\n  }\n  if (upsert && !isRoot) return\n  /** main execution code */\n  const lastStartedState = {isRoot, currentPage, forkPage, isWatch}\n  isRoot = false\n  let stop\n  let skip\n  let node\n  let value\n  let page\n  let reg\n  kernelLoop: while ((value = deleteMin())) {\n    const {idx, stack, type} = value\n    node = stack.node\n    currentPage = page = stack.page\n    forkPage = getForkPage(stack)\n    reg = (page ? page : node).reg\n    const local: Local = {\n      fail: false,\n      scope: node.scope,\n    }\n    stop = skip = false\n    for (let stepn = idx; stepn < node.seq.length && !stop; stepn++) {\n      const step = node.seq[stepn]\n      const data = step.data\n      switch (step.type) {\n        case BARRIER: {\n          let id = data.barrierID\n          if (page) {\n            id = `${page.fullID}_${id}`\n          }\n          const priority = data.priority\n          if (stepn !== idx || type !== priority) {\n            if (!barriers.has(id)) {\n              barriers.add(id)\n              pushHeap(stepn, stack, priority, id)\n            }\n            continue kernelLoop\n          }\n          barriers.delete(id)\n          break\n        }\n        case 'mov': {\n          let value\n          //prettier-ignore\n          switch (data.from) {\n            case STACK: value = getValue(stack); break\n            case REG_A: /** fall-through case */\n            case 'b':\n              value = stack[data.from]\n              break\n            case VALUE: value = data.store; break\n            case STORE:\n              if (!reg[data.store.id]) {\n                // if (!page.parent) {\n                stack.page = page = getPageForRef(page, data.store.id)\n                reg = page ? page.reg : node.reg\n                // }\n              }\n              // value = getPageRef(page, node, data.store.id).current\n              value = readRef(reg[data.store.id])\n              break\n          }\n          //prettier-ignore\n          switch (data.to) {\n            case STACK: stack.value = value; break\n            case REG_A: /** fall-through case */\n            case 'b':\n              stack[data.to] = value\n              break\n            case STORE:\n              getPageRef(page, node, data.target.id).current = value\n              break\n          }\n          break\n        }\n        case 'check':\n          switch (data.type) {\n            case 'defined':\n              skip = getValue(stack) === undefined\n              break\n            case 'changed':\n              skip =\n                getValue(stack) ===\n                readRef(getPageRef(page, node, data.store.id))\n              break\n          }\n          break\n        case FILTER:\n          /**\n           * handled edge case: if step.fn will throw,\n           * tryRun will return null\n           * thereby forcing that branch to stop\n           */\n          skip = !tryRun(local, data, stack)\n          break\n        case 'run':\n          /** exec 'compute' step when stepn === idx */\n          if (stepn !== idx || type !== EFFECT) {\n            pushHeap(stepn, stack, EFFECT)\n            continue kernelLoop\n          }\n        case 'compute':\n          isWatch = node.meta.op === 'watch'\n          stack.value = tryRun(local, data, stack)\n          isWatch = lastStartedState.isWatch\n          break\n      }\n      stop = local.fail || skip\n    }\n    if (!stop) {\n      for (let stepn = 0; stepn < node.next.length; stepn++) {\n        pushFirstHeapItem(\n          'child',\n          page,\n          node.next[stepn],\n          stack,\n          getValue(stack),\n          getForkPage(stack),\n        )\n      }\n    }\n  }\n  isRoot = lastStartedState.isRoot\n  currentPage = lastStartedState.currentPage\n  forkPage = getForkPage(lastStartedState)\n}\n\n/** try catch for external functions */\nconst tryRun = (local: Local, {fn}: any, stack: Stack) => {\n  try {\n    return fn(getValue(stack), local.scope, stack)\n  } catch (err) {\n    console.error(err)\n    local.fail = true\n  }\n}\n","import {Store, Domain} from './unit.h'\nimport {is} from './is'\nimport {getParent} from './getter'\n\nexport const joinName = (unit: any, tag: string) => '' + unit.shortName + tag\n\nexport const mapName = (unit: any, name?: string) =>\n  name == null ? joinName(unit, ' â†’ *') : name\n\nexport function unitObjectName(objOrArr: any, method: string = 'combine') {\n  let name = method + '('\n  let comma = ''\n  let i = 0\n  //@ts-ignore\n  for (const key in objOrArr) {\n    //@ts-ignore\n    const unit = objOrArr[key]\n    if (unit != null) {\n      name += comma\n      //@ts-ignore\n      name += is.unit(unit) ? unit.compositeName.fullName : unit.toString()\n    }\n    i += 1\n    /* inlined max object names constant */\n    if (i === 25) break\n    comma = ', '\n  }\n  name += ')'\n  return name\n}\n\nexport function setStoreName<State>(store: Store<State>, rawName: string) {\n  const compositeName = createName(rawName, getParent(store))\n  store.shortName = rawName\n  if (!store.compositeName) {\n    store.compositeName = compositeName\n    return\n  }\n  const currentComposite = store.compositeName\n  currentComposite.path = compositeName.path\n  currentComposite.shortName = compositeName.shortName\n  currentComposite.fullName = compositeName.fullName\n}\n\nexport type CompositeName = {\n  shortName: string\n  fullName: string\n  path: string[]\n}\n\nexport function createName(name: string, parent?: Domain): CompositeName {\n  let path: string[]\n  let fullName\n  let composite\n  const shortName = name\n  if (!parent) {\n    if (name.length === 0) {\n      path = []\n    } else {\n      path = [name]\n    }\n    fullName = name\n  } else {\n    composite = parent.compositeName\n    if (name.length === 0) {\n      path = composite.path\n      fullName = composite.fullName\n    } else {\n      path = composite.path.concat([name])\n      if (composite.fullName.length === 0) {\n        fullName = name\n      } else {\n        fullName = '' + composite.fullName + '/' + name\n      }\n    }\n  }\n  return {shortName, fullName, path}\n}\n","export function forIn<T>(\n  obj: Record<string, T>,\n  cb: (value: T, key: string) => void,\n) {\n  for (const key in obj) {\n    cb(obj[key], key)\n  }\n}\n\nexport const includes = (list: any[], item: any) => list.includes(item)\n\nexport const removeItem = (list: any[], item: any) => {\n  const pos = list.indexOf(item)\n  if (pos !== -1) {\n    list.splice(pos, 1)\n  }\n}\n\nexport function forEach<T>(\n  list: T[],\n  fn: (item: T, index: number, list: T[]) => void,\n): void\nexport function forEach<T>(list: Set<T>, fn: (item: T) => void): void\nexport function forEach(list: any, fn: Function) {\n  list.forEach(fn)\n}\n","import {observableSymbol} from './observable'\n\nimport {is, isObject, isFunction, assertObject, assertNodeSet} from './is'\nimport {Store, Event} from './unit.h'\n\nimport {step} from './typedef'\nimport {createStateRef, readRef} from './stateRef'\nimport {nextUnitID} from './id'\nimport {callStackAReg, callARegStack, callStack} from './caller'\nimport {bind} from './bind'\nimport {own} from './own'\nimport {createNode} from './createNode'\nimport {launch, currentPage, forkPage, setCurrentPage} from './kernel'\n\nimport {Subscriber, Config} from './index.h'\nimport {createName, mapName, joinName} from './naming'\nimport {createLinkNode} from './forward'\nimport {watchUnit} from './watch'\nimport {createSubscription} from './subscription'\nimport {readTemplate, readSidRoot} from './region'\nimport {\n  getSubscribers,\n  getConfig,\n  getNestedConfig,\n  getStoreState,\n  getGraph,\n  getParent,\n} from './getter'\nimport {includes} from './collection'\nimport {throwError} from './throw'\nimport {DOMAIN, STORE, EVENT, MAP, FILTER, REG_A} from './tag'\n\nconst normalizeConfig = (part: any, config: any) => {\n  if (isObject(part)) {\n    normalizeConfig(getConfig(part), config)\n    if (part.name != null) {\n      if (isObject(part.name)) normalizeConfig(part.name, config)\n      else if (isFunction(part.name)) config.handler = part.name\n      else config.name = part.name\n    }\n    if (part.loc) config.loc = part.loc\n    if (part.sid || part.sid === null) config.sid = part.sid\n    if (part.handler) config.handler = part.handler\n    if (part.updateFilter) config.updateFilter = part.updateFilter\n    if (getParent(part)) config.parent = getParent(part)\n    if ('strict' in part) config.strict = part.strict\n    if (part.named) config.named = part.named\n    normalizeConfig(getNestedConfig(part), config)\n  }\n  return config\n}\n\nexport const applyParentHook = (\n  source: any,\n  target: any,\n  hookType: 'event' | 'effect' = EVENT,\n) => {\n  if (getParent(source)) getParent(source).hooks[hookType](target)\n}\n\nlet isStrict: boolean\nexport const initUnit = (\n  kind: any,\n  unit: any,\n  rawConfigA: any,\n  rawConfigB?: any,\n) => {\n  const config = normalizeConfig(\n    {\n      name: rawConfigB,\n      config: rawConfigA,\n    },\n    {},\n  )\n  const isDomain = kind === DOMAIN\n  const id = nextUnitID()\n  let {parent = null, sid = null, strict = true, named = null} = config\n  const name = named ? named : config.name || (isDomain ? '' : id)\n  const compositeName = createName(name, parent)\n\n  const meta: Record<string, any> = {\n    unit: unit.kind = kind,\n    name: unit.shortName = name,\n    sid: unit.sid = readSidRoot(sid),\n    named,\n    unitId: unit.id = id,\n  }\n  unit.parent = parent\n  unit.compositeName = compositeName\n  unit.defaultConfig = config\n  unit.thru = (fn: Function) => fn(unit)\n  unit.getType = () => compositeName.fullName\n  if (!isDomain) {\n    unit.subscribe = (observer: Subscriber<any>) => {\n      assertObject(observer)\n      return unit.watch(\n        isFunction(observer)\n          ? observer\n          : (upd: any) => {\n              if (observer.next) {\n                observer.next(upd)\n              }\n            },\n      )\n    }\n    unit[observableSymbol] = () => unit\n    const template = readTemplate()\n    if (template) meta.nativeTemplate = template\n  }\n  isStrict = strict\n  return meta\n}\nexport const createNamedEvent = (named: string) => createEvent({named})\n\nconst createComputation = (from: any, to: any, op: any, fn: Function) =>\n  createLinkNode(from, to, {\n    scope: {fn},\n    node: [step.compute({fn: callStack})],\n    meta: {op},\n  })\n\nconst createEventFiltration = (event: any, op: string, fn: any, node: any) => {\n  let config\n  if (isObject(fn)) {\n    config = fn\n    fn = fn.fn\n  }\n  const mapped = createEvent(joinName(event, ' â†’? *'), config)\n  createLinkNode(event, mapped, {\n    scope: {fn},\n    node,\n    meta: {op},\n  })\n  return mapped\n}\n\nfunction callCreate(unit: any, template: any, payload: any, args: any[]): any {\n  const oldPage = currentPage\n  let page = null\n  if (template) {\n    page = currentPage\n    while (page && page.template !== template) {\n      page = getParent(page)\n    }\n  }\n  setCurrentPage(page)\n  const result = unit.create(payload, args)\n  setCurrentPage(oldPage)\n  return result\n}\n\nexport function createEvent<Payload = any>(\n  nameOrConfig?: any,\n  maybeConfig?: any,\n): Event<Payload> {\n  const event: any = (payload: Payload, ...args: any[]) => {\n    if (currentPage) {\n      return callCreate(event, template, payload, args)\n    }\n    return event.create(payload, args)\n  }\n  event.graphite = createNode({\n    meta: initUnit(EVENT, event, maybeConfig, nameOrConfig),\n    regional: true,\n  })\n  //eslint-disable-next-line no-unused-vars\n  event.create = (params: any, _: any) => {\n    const target = forkPage ? forkPage.find(event) : event\n    launch(target, params)\n    return params\n  }\n  event.watch = bind(watchUnit, event)\n  event.map = (fn: any) => {\n    let config\n    let name\n    if (isObject(fn)) {\n      config = fn\n      name = fn.name\n      fn = fn.fn\n    }\n    const mapped = createEvent(mapName(event, name), config)\n    createComputation(event, mapped, MAP, fn)\n    return mapped\n  }\n  event.filter = (fn: any) =>\n    createEventFiltration(event, FILTER, fn.fn ? fn : fn.fn, [\n      step.filter({fn: callStack}),\n    ])\n  event.filterMap = (fn: any) =>\n    createEventFiltration(event, 'filterMap', fn, [\n      step.compute({fn: callStack}),\n      step.check.defined(),\n    ])\n  event.prepend = (fn: any) => {\n    const contramapped: Event<any> = createEvent('* â†’ ' + event.shortName, {\n      parent: getParent(event),\n    })\n    const template = readTemplate()\n    if (template) {\n      getGraph(contramapped).seq.push(template.upward)\n    }\n    createComputation(contramapped, event, 'prepend', fn)\n    applyParentHook(event, contramapped)\n    return contramapped\n  }\n  const template = readTemplate()\n  return event\n}\n\nexport function createStore<State>(\n  defaultState: State,\n  props?: Config,\n): Store<State> {\n  const plainState = createStateRef(defaultState)\n  const oldState = createStateRef(defaultState)\n  const updates = createNamedEvent('updates')\n  const template = readTemplate()\n  plainState.after = [{type: 'copy', to: oldState}]\n  if (template) {\n    template.plain.push(plainState, oldState)\n  }\n  const plainStateId = plainState.id\n  const store: any = {\n    subscribers: new Map(),\n    updates,\n    defaultState,\n    stateRef: plainState,\n    getState() {\n      let targetRef = plainState\n      let reachedPage\n      if (currentPage) {\n        let page = currentPage\n        while (page && !page.reg[plainStateId]) {\n          page = getParent(page)\n        }\n        if (page) reachedPage = page\n      }\n      if (!reachedPage && forkPage && forkPage.reg[plainStateId]) {\n        reachedPage = forkPage\n      }\n      if (reachedPage) targetRef = reachedPage.reg[plainStateId]\n      return readRef(targetRef)\n    },\n    setState(state: any) {\n      let target\n      if (forkPage) {\n        target = forkPage.nodeMap[getGraph(store).id]\n      }\n      if (!target) target = store\n      launch({\n        target,\n        params: state,\n        defer: true,\n      })\n    },\n    reset(...units: any[]) {\n      for (const unit of units) store.on(unit, () => store.defaultState)\n      return store\n    },\n    on(nodeSet: any, fn: Function) {\n      assertNodeSet(nodeSet, '.on', 'first argument')\n      if (Array.isArray(nodeSet)) {\n        for (const event of nodeSet) {\n          onEvent(event, fn)\n        }\n      } else {\n        onEvent(nodeSet, fn)\n      }\n      return store\n    },\n    off(unit: any) {\n      const currentSubscription = getSubscribers(store).get(unit)\n      if (currentSubscription) {\n        currentSubscription()\n        getSubscribers(store).delete(unit)\n      }\n      return store\n    },\n    map(fn: any, firstState?: any) {\n      let config\n      let name\n      if (isObject(fn)) {\n        config = fn\n        name = fn.name\n        firstState = fn.firstState\n        fn = fn.fn\n      }\n      let lastResult\n      const storeState = store.getState()\n      const template = readTemplate()\n      if (template) {\n        lastResult = null\n      } else if (storeState !== undefined) {\n        lastResult = fn(storeState, firstState)\n      }\n\n      const innerStore: Store<any> = createStore(lastResult, {\n        name: mapName(store, name),\n        config,\n        strict: false,\n      })\n      const linkNode = updateStore(store, innerStore, MAP, false, fn)\n\n      getStoreState(innerStore).before = [\n        {\n          type: MAP,\n          fn,\n          from: plainState,\n        },\n      ]\n      if (template) {\n        if (!includes(template.plain, plainState)) {\n          if (!includes(linkNode.seq, template.loader)) {\n            linkNode.seq.unshift(template.loader)\n          }\n        }\n      }\n      return innerStore\n    },\n    watch(eventOrFn: any, fn?: Function) {\n      if (!fn || !is.unit(eventOrFn)) {\n        const subscription = watchUnit(store, eventOrFn)\n        const template = readTemplate()\n        if (template) {\n          template.watch.push({\n            of: plainState,\n            fn: eventOrFn,\n          })\n        } else {\n          eventOrFn(store.getState())\n        }\n        return subscription\n      }\n      if (!isFunction(fn)) throwError('second argument should be a function')\n      return eventOrFn.watch((payload: any) => fn(store.getState(), payload))\n    },\n  }\n  function onEvent(event: any, fn: Function) {\n    store.off(event)\n    getSubscribers(store).set(\n      event,\n      createSubscription(\n        updateStore(event, store, 'on', true, fn, updateFilter),\n      ),\n    )\n  }\n  const meta = initUnit(STORE, store, props)\n  const updateFilter = store.defaultConfig.updateFilter\n  store.graphite = createNode({\n    scope: {state: plainState},\n    node: [\n      step.check.defined(),\n      step.check.changed({\n        store: oldState,\n      }),\n      updateFilter && step.mov({store: oldState, to: REG_A}),\n      updateFilter &&\n        step.filter({\n          fn: (update, _, {a}) => updateFilter(update, a),\n        }),\n      step.update({\n        store: plainState,\n      }),\n      step.update({\n        store: oldState,\n      }),\n    ],\n    child: updates,\n    meta,\n    regional: true,\n  })\n  if (isStrict && defaultState === undefined)\n    throwError(\"current state can't be undefined, use null instead\")\n  own(store, [updates])\n  return store\n}\n\nconst updateStore = (\n  from: any,\n  store: Store<any>,\n  op: string,\n  stateFirst: boolean,\n  fn: Function,\n  updateFilter?: Function,\n) => {\n  const storeRef = getStoreState(store)\n  const node = [\n    step.mov({store: storeRef, to: REG_A}),\n    step.compute({\n      fn: stateFirst ? callARegStack : callStackAReg,\n    }),\n    step.check.defined(),\n    step.check.changed({store: storeRef}),\n    updateFilter &&\n      step.filter({\n        fn: (update, _, {a}) => updateFilter(update, a),\n      }),\n    step.update({store: storeRef}),\n  ]\n  const template = readTemplate()\n  if (template) {\n    node.unshift(template.loader)\n    node.push(template.upward)\n    if (is.store(from)) {\n      const ref = getStoreState(from)\n      if (!includes(template.plain, ref)) {\n        //if (!includes(node, template.loader)) {\n        //  node.unshift(template.loader)\n        //}\n        if (!includes(template.closure, ref)) {\n          template.closure.push(ref)\n        }\n        if (!storeRef.before) storeRef.before = []\n        storeRef.before.push({\n          type: 'closure',\n          of: ref,\n        })\n      }\n    } else {\n      //if (!includes(node, template.loader)) {\n      //  node.unshift(template.loader)\n      //}\n    }\n  }\n  return createLinkNode(from, store, {\n    scope: {fn},\n    node,\n    meta: {op},\n  })\n}\n","import {Store} from './unit.h'\nimport {createStore} from './createUnit'\nimport {createStateRef} from './stateRef'\nimport {step} from './typedef'\nimport {onConfigNesting} from './config'\nimport {getGraph, getStoreState} from './getter'\nimport {is, isFunction, isObject} from './is'\nimport {unitObjectName} from './naming'\nimport {createLinkNode} from './forward'\nimport {throwError} from './throw'\nimport {readTemplate} from './region'\nimport {forIn, includes} from './collection'\nimport {BARRIER, MAP, REG_A, VALUE} from './tag'\n\nexport function combine(...args: any[]): Store<any> {\n  let handler\n  let stores\n  let config\n  onConfigNesting(args[0], (injectedData, userConfig) => {\n    config = injectedData\n    args = userConfig\n  })\n  const rawHandler = args[args.length - 1]\n  if (isFunction(rawHandler)) {\n    stores = args.slice(0, -1)\n    handler = rawHandler\n  } else {\n    stores = args\n  }\n\n  let structStoreShape\n  let shapeReady\n  if (stores.length === 1) {\n    const obj = stores[0]\n    /*\n      without edge case combine(Color, (Color) => '~')\n      */\n    if (!is.store(obj)) {\n      /*\n      case combine([R,G,B], ([R,G,B]) => '~')\n      case combine({R,G,B}, ({R,G,B}) => '~')\n\n      edge case combine([Color], ([Color]) => '~')\n      edge case combine({Color}, ({Color}) => '~')\n\n      edge case combine([R,G,B])\n      edge case combine({R,G,B})\n\n      edge case combine([Color])\n      edge case combine({Color})\n      */\n      structStoreShape = obj\n      shapeReady = true\n    }\n  }\n  if (!shapeReady) {\n    /*\n    case combine(R,G,B, (R,G,B) => '~')\n    */\n    structStoreShape = stores\n    /*\n    without edge case combine(R,G,B)\n    without edge case combine(Color)\n    */\n    if (handler) {\n      handler = spreadArgs(handler)\n    }\n  }\n  if (!isObject(structStoreShape)) throwError('shape should be an object')\n  return storeCombination(\n    Array.isArray(structStoreShape),\n    structStoreShape,\n    config,\n    handler,\n  )\n}\n\nconst spreadArgs = (fn: Function) => (list: any[]) => fn(...list)\n\nconst storeCombination = (\n  isArray: boolean,\n  obj: any,\n  config?: string,\n  fn?: (upd: any) => any,\n) => {\n  const clone = isArray ? (list: any) => list.slice() : (obj: any) => ({...obj})\n  const defaultState: any = isArray ? [] : {}\n  const template = readTemplate()\n  const stateNew = clone(defaultState)\n  const rawShape = createStateRef(stateNew)\n  const isFresh = createStateRef(true)\n  rawShape.type = isArray ? 'list' : 'shape'\n  if (template) {\n    template.plain.push(rawShape, isFresh)\n  }\n  const store = createStore(stateNew, {\n    name: config ? config : unitObjectName(obj),\n  })\n  getGraph(store).meta.isCombine = true\n  const node = [\n    step.check.defined(),\n    step.mov({\n      store: rawShape,\n      to: REG_A,\n    }),\n    //prettier-ignore\n    step.filter({\n      fn: (upd, {key}, {a}) => upd !== a[key],\n    }),\n    step.mov({\n      store: isFresh,\n      to: 'b',\n    }),\n    step.compute({\n      fn(upd, {clone, key}, reg) {\n        if (reg.b) {\n          reg.a = clone(reg.a)\n        }\n        reg.a[key] = upd\n      },\n    }),\n    step.mov({\n      from: REG_A,\n      target: rawShape,\n    }),\n    step.mov({\n      from: VALUE,\n      store: false,\n      target: isFresh,\n    }),\n    step.barrier({priority: BARRIER}),\n    step.mov({\n      from: VALUE,\n      store: true,\n      target: isFresh,\n    }),\n    step.mov({store: rawShape}),\n    fn && step.compute({fn}),\n    step.check.changed({\n      store: getStoreState(store),\n    }),\n  ]\n  const before: any[] = (rawShape.before = [])\n  forIn(obj, (child: Store<any> | any, key) => {\n    if (!is.store(child)) {\n      stateNew[key] = defaultState[key] = child\n      return\n    }\n    defaultState[key] = child.defaultState\n    stateNew[key] = child.getState()\n    const linkNode = createLinkNode(child, store, {\n      scope: {key, clone},\n      node,\n      meta: {op: 'combine'},\n    })\n    const childRef = getStoreState(child)\n    before.push({\n      type: 'field',\n      field: key,\n      from: childRef,\n    })\n    if (template) {\n      if (!includes(template.plain, childRef)) {\n        linkNode.seq.unshift(template.loader)\n      }\n    }\n  })\n\n  store.defaultShape = obj\n  rawShape.after = [\n    fn\n      ? {\n          type: MAP,\n          to: getStoreState(store),\n          fn,\n        }\n      : {\n          type: 'copy',\n          to: getStoreState(store),\n        },\n  ]\n  if (!template) {\n    store.defaultState = fn\n      ? (getStoreState(store).current = fn(stateNew))\n      : defaultState\n  }\n  return store\n}\n","export function createDefer(): {\n  rs: (value: any) => any\n  rj: (value: any) => any\n  req: Promise<any>\n} {\n  const result = {} as {\n    rs: (value: any) => any\n    rj: (value: any) => any\n    req: Promise<any>\n  }\n  result.req = new Promise((rs, rj) => {\n    result.rs = rs\n    result.rj = rj\n  })\n  result.req.catch(err => {})\n  return result\n}\n","import {step} from './typedef'\nimport {getForkPage, getGraph, getParent} from './getter'\nimport {own} from './own'\nimport {createNode} from './createNode'\nimport {launch, setForkPage, forkPage, isWatch} from './kernel'\nimport {createNamedEvent, createStore, createEvent} from './createUnit'\nimport {createDefer} from './defer'\nimport {isObject, isFunction} from './is'\nimport {throwError} from './throw'\nimport {EFFECT} from './tag'\n\nexport function createEffect<Payload, Done>(\n  nameOrConfig: any,\n  maybeConfig: any,\n) {\n  const instance: any = createEvent(nameOrConfig, maybeConfig)\n  let handler =\n    instance.defaultConfig.handler ||\n    (() => throwError(`no handler used in ${instance.getType()}`))\n  const node = getGraph(instance)\n  node.meta.onCopy = ['runner']\n  node.meta.unit = instance.kind = EFFECT\n  instance.use = (fn: Function) => {\n    if (!isFunction(fn)) throwError('.use argument should be a function')\n    handler = fn\n    return instance\n  }\n  const anyway = (instance.finally = createNamedEvent('finally'))\n  const done = (instance.done = (anyway as any).filterMap({\n    named: 'done',\n    fn({status, params, result}: any) {\n      if (status === 'done') return {params, result}\n    },\n  }))\n  const fail = (instance.fail = (anyway as any).filterMap({\n    named: 'fail',\n    fn({status, params, error}: any) {\n      if (status === 'fail') return {params, error}\n    },\n  }))\n  const doneData = (instance.doneData = done.map({\n    named: 'doneData',\n    fn: ({result}: any) => result,\n  }))\n  const failData = (instance.failData = fail.map({\n    named: 'failData',\n    fn: ({error}: any) => error,\n  }))\n\n  const effectRunner = createNode({\n    scope: {\n      getHandler: instance.use.getCurrent = () => handler,\n      finally: anyway,\n    },\n    node: [\n      step.run({\n        fn({params, req}, {finally: anyway, getHandler}, stack) {\n          const onResolve = onSettled({\n            params,\n            req,\n            ok: true,\n            anyway,\n            stack,\n          })\n          const onReject = onSettled({\n            params,\n            req,\n            ok: false,\n            anyway,\n            stack,\n          })\n          let result\n          try {\n            result = getHandler()(params)\n          } catch (err) {\n            return void onReject(err)\n          }\n          if (isObject(result) && isFunction(result.then)) {\n            result.then(onResolve, onReject)\n          } else {\n            onResolve(result)\n          }\n        },\n      }),\n    ],\n    meta: {\n      op: 'fx',\n      fx: 'runner',\n      onCopy: ['finally'],\n    },\n  })\n  node.scope.runner = effectRunner\n  node.seq.push(\n    step.compute({\n      fn(params, scope, stack) {\n        // empty stack means that this node was launched directly\n        if (!getParent(stack)) return params\n        return {\n          params,\n          req: {\n            rs(data: any) {},\n            rj(data: any) {},\n          },\n        }\n      },\n    }),\n    step.run({\n      fn(upd, {runner}, stack) {\n        launch({\n          target: runner,\n          params: upd,\n          defer: true,\n          forkPage: getForkPage(stack),\n        })\n        return upd.params\n      },\n    }),\n  )\n  instance.create = (params: Payload) => {\n    const req = createDefer()\n    const payload = {params, req}\n    if (forkPage) {\n      if (!isWatch) {\n        const savedFork = forkPage\n        req.req\n          .finally(() => {\n            setForkPage(savedFork)\n          })\n          .catch(() => {})\n      }\n      launch(forkPage.find(instance), payload)\n    } else {\n      launch(instance, payload)\n    }\n    return req.req\n  }\n\n  const inFlight = (instance.inFlight = createStore(0, {named: 'inFlight'})\n    .on(instance, x => x + 1)\n    .on(anyway, x => x - 1))\n\n  const pending = (instance.pending = inFlight.map({\n    //@ts-ignore\n    fn: amount => amount > 0,\n    named: 'pending',\n  }))\n\n  own(instance, [\n    anyway,\n    done,\n    fail,\n    doneData,\n    failData,\n    pending,\n    inFlight,\n    effectRunner,\n  ])\n  return instance\n}\n\nexport const onSettled = ({\n  params,\n  req,\n  ok,\n  anyway,\n  stack,\n}: {\n  params: any\n  req: {\n    rs(_: any): any\n    rj(_: any): any\n  }\n  ok: boolean\n  anyway: any\n  stack: any\n}) => (data: any) =>\n  launch({\n    target: [anyway, sidechain],\n    params: [\n      ok\n        ? {\n            status: 'done',\n            params,\n            result: data,\n          }\n        : {\n            status: 'fail',\n            params,\n            error: data,\n          },\n      {\n        fn: ok ? req.rs : req.rj,\n        value: data,\n      },\n    ],\n    defer: true,\n    page: stack.page,\n    forkPage: getForkPage(stack),\n  })\n\nexport const sidechain = createNode({\n  node: [\n    step.run({\n      fn({fn, value}) {\n        fn(value)\n      },\n    }),\n  ],\n  meta: {op: 'fx', fx: 'sidechain'},\n})\n","import {combine} from './combine'\nimport {createEffect, onSettled} from './createEffect'\nimport {applyParentHook} from './createUnit'\nimport {onConfigNesting} from './config'\nimport {getGraph, getStoreState} from './getter'\nimport {own} from './own'\nimport {is} from './is'\nimport {step} from './typedef'\nimport {launch} from './kernel'\nimport {addToReg} from './createNode'\nimport {STORE, EFFECT, REG_A} from './tag'\n\nexport function attach(config: any) {\n  let injected\n  onConfigNesting(config, (injectedData, userConfig) => {\n    injected = injectedData\n    config = userConfig\n  })\n  let {source, effect, mapParams} = config\n  if (!mapParams)\n    mapParams = source\n      ? (_: any, source: any) => source\n      : (params: any) => params\n  const attached = createEffect(config, injected)\n  const {runner} = getGraph(attached).scope\n\n  let runnerSteps\n  const runnerFn = (\n    {params, req}: any,\n    {finally: anyway, effect}: any,\n    stack: any,\n  ) => {\n    const rj = onSettled({\n      params,\n      req,\n      ok: false,\n      anyway,\n      stack,\n    })\n    let computedParams\n    try {\n      computedParams = mapParams(params, stack.a)\n    } catch (err) {\n      return rj(err)\n    }\n    launch({\n      target: effect,\n      params: {\n        params: computedParams,\n        req: {\n          rs: onSettled({\n            params,\n            req,\n            ok: true,\n            anyway,\n            stack,\n          }),\n          rj,\n        },\n      },\n      page: stack.page,\n      defer: true,\n    })\n  }\n  if (source) {\n    let state\n    if (is.store(source)) {\n      state = source\n      own(source, [attached])\n    } else {\n      state = combine(source)\n      own(attached, [state])\n    }\n    const readStateRef = step.mov({\n      from: STORE,\n      store: getStoreState(state),\n      to: REG_A,\n    })\n    runnerSteps = [\n      /* let another side-effects run first */\n      step.run({fn: _ => _}),\n      /* read state. assumed it already stable here because of previous step */\n      readStateRef,\n      /* no need for step.run because of first step */\n      step.compute({fn: runnerFn}),\n    ]\n    addToReg(readStateRef, runner.reg)\n  } else {\n    runnerSteps = [step.run({fn: runnerFn})]\n  }\n  own(effect, [attached])\n  runner.scope.effect = effect\n  runner.meta.onCopy.push(EFFECT)\n  runner.seq.splice(0, 1, ...runnerSteps)\n  applyParentHook(effect, attached, EFFECT)\n  return attached\n}\n","import {Store, Event} from './unit.h'\nimport {createEvent, applyParentHook} from './createUnit'\nimport {forIn} from './collection'\nimport {getParent} from './getter'\nimport {processArgsToConfig} from './config'\n\nexport function createApi(...args: [Store<any>, {[key: string]: Function}]) {\n  let [[store, setters], metadata] = processArgsToConfig(args)\n  const result: Record<string, Event<any>> = {}\n  forIn(setters, (fn, key) => {\n    const event = (result[key] = createEvent(key, {\n      parent: getParent(store),\n      config: metadata,\n    }))\n    store.on(event, fn)\n    applyParentHook(store, event)\n  })\n  return result\n}\n","import {Store, Event, Effect, Domain} from './unit.h'\nimport {own} from './own'\nimport {createNode} from './createNode'\nimport {Config, NodeUnit} from './index.h'\nimport {\n  createEvent,\n  createStore,\n  createNamedEvent,\n  initUnit,\n} from './createUnit'\nimport {createEffect} from './createEffect'\nimport {forward} from './forward'\nimport {forIn} from './collection'\nimport {getGraph, getParent} from './getter'\nimport {DOMAIN} from './tag'\nimport {launch} from './kernel'\nimport {step} from './typedef'\n\nconst createHook = (trigger: Event<any>, acc: Set<any>, node: any) => {\n  trigger.create = res => {\n    launch(trigger, res)\n    return res\n  }\n  getGraph(trigger).seq.push(\n    step.compute({\n      fn(upd, _, stack) {\n        stack.forkPage = null\n        return upd\n      },\n    }),\n  )\n  trigger.watch(data => {\n    own(node, [data])\n    acc.add(data)\n    if (!data.ownerSet) data.ownerSet = acc\n    if (!getParent(data)) data.parent = node\n  })\n  own(node, [trigger])\n  return (hook: (data: any) => any) => {\n    acc.forEach(hook)\n    return trigger.watch(hook)\n  }\n}\n\nexport function createDomain(nameOrConfig: any, maybeConfig?: any): Domain {\n  const domains: Set<Domain> = new Set()\n  const stores: Set<Store<any>> = new Set()\n  const effects: Set<Effect<any, any, any>> = new Set()\n  const events: Set<Event<any>> = new Set()\n\n  const node = createNode({\n    family: {type: DOMAIN},\n    regional: true,\n  })\n\n  const result: any = {\n    history: {\n      domains,\n      stores,\n      effects,\n      events,\n    },\n    graphite: node,\n  }\n\n  node.meta = initUnit(DOMAIN, result, maybeConfig, nameOrConfig)\n  const [event, effect, store, domain] = [\n    'onEvent',\n    'onEffect',\n    'onStore',\n    'onDomain',\n  ].map(createNamedEvent)\n\n  result.hooks = {\n    event,\n    effect,\n    store,\n    domain,\n  }\n  result.onCreateEvent = createHook(event, events, result)\n  result.onCreateEffect = createHook(effect, effects, result)\n  result.onCreateStore = createHook(store, stores, result)\n  result.onCreateDomain = createHook(domain, domains, result)\n\n  result.createEvent = result.event = (nameOrConfig: any, config?: Config) =>\n    event(\n      createEvent(nameOrConfig, {\n        parent: result,\n        config,\n      }),\n    )\n  result.createEffect = result.effect = (nameOrConfig: any, config?: Config) =>\n    effect(\n      createEffect(nameOrConfig, {\n        parent: result,\n        config,\n      }),\n    )\n  result.createDomain = result.domain = (nameOrConfig: any, config?: Config) =>\n    createDomain({\n      name: nameOrConfig,\n      parent: result,\n      config,\n    })\n  result.createStore = result.store = (state: any, config?: Config) =>\n    store(\n      createStore(state, {\n        parent: result,\n        config,\n      }),\n    )\n  const parent = getParent(result)\n  if (parent) {\n    forIn(result.hooks, (from: NodeUnit, key) => {\n      forward({from, to: parent.hooks[key]})\n    })\n    parent.hooks.domain(result)\n  }\n  return result\n}\n","import {observableSymbol} from './observable'\nimport {Event} from './unit.h'\nimport {clearNode} from './clearNode'\nimport {createEvent} from './createUnit'\nimport {bind2} from './bind'\nimport {assertObject} from './is'\nimport {throwError} from './throw'\n\nexport function fromObservable<T>(observable: any): Event<T> {\n  assertObject(observable)\n  const observableItem =\n    observableSymbol in observable ? observable[observableSymbol]() : observable\n  if (!observableItem.subscribe)\n    throwError('expect observable to have .subscribe')\n  const event = createEvent<T>()\n  const disposer = bind2(clearNode, event, undefined)\n  observableItem.subscribe({\n    next: event,\n    error: disposer,\n    complete: disposer,\n  })\n  return event\n}\n","import {Store, Event, Effect} from './unit.h'\nimport {createEvent} from './createUnit'\nimport {forward} from './forward'\nimport {unitObjectName} from './naming'\nimport {assertNodeSet} from './is'\n\nexport function merge<T>(\n  events: Array<Event<T> | Store<T> | Effect<T, any, any>>,\n  config?: object,\n): Event<T> {\n  const result = createEvent(config || unitObjectName(events, 'merge'))\n  assertNodeSet(events, 'merge', 'first argument')\n  forward({\n    from: events,\n    to: result,\n    meta: {op: 'merge'},\n  })\n  return result\n}\n","import {combine} from './combine'\nimport {step} from './typedef'\nimport {createStateRef, readRef} from './stateRef'\nimport {callStackAReg, callARegStack} from './caller'\nimport {processArgsToConfig} from './config'\nimport {getStoreState, getGraph} from './getter'\nimport {own} from './own'\nimport {assertNodeSet, is, isObject} from './is'\nimport {createStore} from './createUnit'\nimport {createEvent} from './createUnit'\nimport {createLinkNode} from './forward'\nimport {createNode} from './createNode'\nimport {readTemplate} from './region'\nimport {throwError} from './throw'\nimport {includes, forEach} from './collection'\nimport {REG_A, SAMPLE, SAMPLER, STACK, STORE, VALUE} from './tag'\nimport {merge} from './merge'\n\nconst sampleConfigFields = ['source', 'clock', 'target']\n\nfunction validateSampleConfig(config: any) {\n  let atLeastOneFieldExists = false\n  forEach(sampleConfigFields, field => {\n    if (field in config) {\n      if (config[field] == null) {\n        throwError(`sample: ${field} should be defined`)\n      }\n      atLeastOneFieldExists = true\n    }\n  })\n  return atLeastOneFieldExists\n}\n\nexport function sample(...args: any): any {\n  let target\n  let name\n  let [[source, clock, fn], metadata] = processArgsToConfig(args)\n  let sid\n  let greedy\n  //config case\n  if (clock === undefined && isObject(source) && validateSampleConfig(source)) {\n    clock = source.clock\n    fn = source.fn\n    greedy = source.greedy\n    //optional target & name accepted only from config\n    target = source.target\n    name = source.name\n    sid = source.sid\n    source = source.source\n  }\n  let needToCombine = true\n  if (source === undefined) {\n    assertNodeSet(clock, 'sample', 'clock')\n    if (Array.isArray(clock)) {\n      clock = merge(clock)\n    }\n    source = clock\n    needToCombine = false\n  }\n  if (needToCombine && !is.unit(source)) {\n    source = combine(source)\n  }\n  if (clock === undefined) {\n    //still undefined!\n    clock = source\n  }\n  assertNodeSet(clock, 'sample', 'clock')\n  name = metadata || name || source.shortName\n  const template = readTemplate()\n  const isUpward = !!target\n  if (!target) {\n    if (is.store(source) && is.store(clock)) {\n      const initialState = fn\n        ? fn(readRef(getStoreState(source)), readRef(getStoreState(clock)))\n        : readRef(getStoreState(source))\n      target = createStore(initialState, {name, sid})\n    } else {\n      target = createEvent(name)\n      if (template) {\n        getGraph(target).seq.push(template.loader)\n      }\n    }\n  }\n  const targetTemplate =\n    isUpward && is.unit(target) && getGraph(target).meta.nativeTemplate\n  if (is.store(source)) {\n    const sourceRef = getStoreState(source)\n    own(source, [\n      createLinkNode(clock, target, {\n        scope: {fn, targetTemplate},\n        node: [\n          template && template.loader,\n          //@ts-ignore\n          !greedy && step.barrier({priority: SAMPLER}),\n          step.mov({\n            store: sourceRef,\n            to: fn ? REG_A : STACK,\n          }),\n          fn && step.compute({fn: callARegStack}),\n          template && isUpward && template.upward,\n        ],\n        meta: {op: SAMPLE, sample: STORE},\n      }),\n    ])\n    if (template) {\n      if (\n        !includes(template.plain, sourceRef) &&\n        !includes(template.closure, sourceRef)\n      ) {\n        template.closure.push(sourceRef)\n      }\n    }\n  } else {\n    const hasSource = createStateRef(false)\n    const sourceState = createStateRef()\n    const clockState = createStateRef()\n    if (template) {\n      template.plain.push(hasSource, sourceState, clockState)\n    }\n    createNode({\n      parent: source,\n      node: [\n        step.update({store: sourceState}),\n        step.mov({\n          from: VALUE,\n          store: true,\n          target: hasSource,\n        }),\n      ],\n      family: {\n        owners: [source, target, clock],\n        links: target,\n      },\n      meta: {op: SAMPLE, sample: 'source'},\n      regional: true,\n    })\n    own(source, [\n      createLinkNode(clock, target, {\n        scope: {\n          fn,\n          targetTemplate,\n        },\n        node: [\n          template && template.loader,\n          step.update({store: clockState}),\n          step.mov({store: hasSource}),\n          step.filter({fn: hasSource => hasSource}),\n          //@ts-ignore\n          !greedy && step.barrier({priority: SAMPLER}),\n          step.mov({store: sourceState}),\n          step.mov({\n            store: clockState,\n            to: REG_A,\n          }),\n          fn && step.compute({fn: callStackAReg}),\n          template && isUpward && template.upward,\n        ],\n        meta: {op: SAMPLE, sample: 'clock'},\n      }),\n    ])\n  }\n  return target\n}\n","import {processArgsToConfig} from './config'\nimport {createLinkNode} from './forward'\nimport {sample} from './sample'\nimport {createEvent} from './createUnit'\nimport {combine} from './combine'\nimport {step} from './typedef'\nimport {callStack} from './caller'\nimport {assertNodeSet, is, isFunction} from './is'\nimport {createNode} from './createNode'\nimport {throwError} from './throw'\nimport {merge} from './merge'\n\nexport function guard(...args: any[]) {\n  const meta: Record<string, any> = {op: 'guard'}\n  let rawName = 'guard'\n  let [[source, config], metadata] = processArgsToConfig(args)\n  if (metadata) {\n    meta.config = metadata\n    if (metadata.name) rawName = metadata.name\n  }\n  if (!config) {\n    config = source\n    source = config.source\n  }\n  let {filter, greedy, clock, name = rawName} = config\n  const target = config.target || createEvent(name, meta.config)\n  const filterIsUnit = is.unit(filter)\n  let needToCombine = true\n  if (source === undefined) {\n    assertNodeSet(clock, 'guard', 'clock')\n    if (Array.isArray(clock)) {\n      clock = merge(clock)\n    }\n    source = clock\n    needToCombine = false\n  }\n  if (needToCombine && !is.unit(source)) source = combine(source)\n  if (clock) {\n    assertNodeSet(clock, 'guard', 'clock')\n    source = sample({\n      source,\n      clock,\n      greedy,\n      fn: filterIsUnit ? null : (source: any, clock: any) => ({source, clock}),\n    })\n  }\n  assertNodeSet(target, 'guard', 'target')\n  if (filterIsUnit) {\n    sample({\n      source: filter,\n      clock: source,\n      target: createNode({\n        node: [\n          step.filter({\n            fn: ({guard}) => guard,\n          }),\n          step.compute({\n            fn: ({data}) => data,\n          }),\n        ],\n        child: target,\n        meta,\n        family: {\n          owners: [source, filter, target, ...[].concat(clock ? clock : [])],\n          links: target,\n        },\n        regional: true,\n      }),\n      fn: (guard: any, data: any) => ({guard, data}),\n      greedy,\n      name,\n    })\n  } else {\n    if (!isFunction(filter)) throwError('`filter` should be function or unit')\n    createLinkNode(source, target, {\n      scope: {fn: filter},\n      node: clock\n        ? [\n            step.filter({\n              fn: ({source, clock}, {fn}) => fn(source, clock),\n            }),\n            step.compute({\n              fn: ({source}) => source,\n            }),\n          ]\n        : [step.filter({fn: callStack})],\n      meta,\n    })\n  }\n  return target\n}\n","import {createStore} from './createUnit'\nimport {is} from './is'\nimport {forIn} from './collection'\nimport {getParent} from './getter'\n\nexport function restore(obj: any, defaultState: any, config?: any): any {\n  if (is.store(obj)) {\n    return obj\n  }\n  if (is.unit(obj)) {\n    const domain = getParent(obj)\n    let result\n    if (is.event(obj)) {\n      result = createStore(defaultState, {\n        parent: domain,\n        name: obj.shortName,\n        É”: config,\n      }).on(obj, (_, v) => v)\n    }\n    if (is.effect(obj)) {\n      result = createStore(defaultState, {\n        parent: domain,\n        name: obj.shortName,\n        É”: config,\n      }).on(obj.done, (_: any, {result}: any) => result)\n    }\n    if (domain) domain.hooks.store(result)\n    return result\n  }\n  const result: Record<string, any> = Array.isArray(obj) ? [] : {}\n  forIn(obj, (value, key) => {\n    result[key] = is.store(value) ? value : createStore(value, {name: key})\n  })\n  return result\n}\n","import {Event} from './unit.h'\nimport {NodeUnit, Cmd} from './index.h'\nimport {is, isFunction, isObject} from './is'\nimport {forIn, includes} from './collection'\nimport {createStateRef} from './stateRef'\nimport {readTemplate} from './region'\nimport {createLinkNode} from './forward'\nimport {processArgsToConfig} from './config'\nimport {step} from './typedef'\nimport {createNode} from './createNode'\nimport {launch} from './kernel'\nimport {getStoreState} from './getter'\nimport {REG_A} from './tag'\nimport {throwError} from './throw'\nimport {createEvent} from './createUnit'\n\nconst launchCase = (\n  scopeTargets: Record<string, NodeUnit>,\n  field: string,\n  data: any,\n  stack: any,\n) => {\n  const target = scopeTargets[field]\n  if (target) {\n    launch({\n      target,\n      params: Array.isArray(target) ? target.map(() => data) : data,\n      defer: true,\n      stack,\n    })\n  }\n}\n\nexport function split(...args: any[]): any {\n  let targets: Record<string, Event<any> | NodeUnit>\n  let [[source, match], metadata] = processArgsToConfig(args)\n  const knownCases = !match\n  if (knownCases) {\n    targets = source.cases\n    match = source.match\n    source = source.source\n  }\n  const matchIsUnit = is.store(match)\n  const matchIsFunction = !is.unit(match) && isFunction(match)\n  const matchIsShape = !matchIsUnit && !matchIsFunction && isObject(match)\n  if (!targets!) targets = {}\n  if (!knownCases) {\n    if (!matchIsShape) throwError('match should be an object')\n    forIn(match, (_, key) => {\n      //@ts-ignore\n      targets[key] = createEvent(metadata)\n    })\n    targets.__ = createEvent(metadata)\n  }\n  //@ts-ignore\n  const template = readTemplate()\n  const owners = new Set(\n    ([] as NodeUnit[]).concat(source, Object.values(targets)),\n  )\n  const caseNames = Object.keys(\n    matchIsUnit || matchIsFunction ? targets : match,\n  )\n  let splitterSeq: Array<Cmd | false>\n  if (matchIsUnit || matchIsFunction) {\n    if (matchIsUnit) owners.add(match)\n    splitterSeq = [\n      matchIsUnit && step.barrier({priority: 'sampler'}),\n      matchIsUnit &&\n        step.mov({\n          store: getStoreState(match),\n          to: 'a',\n        }),\n      step.filter({\n        fn(data, scopeTargets, stack) {\n          const value = String(matchIsUnit ? stack.a : match(data))\n          launchCase(\n            scopeTargets,\n            includes(caseNames, value) ? value : '__',\n            data,\n            stack,\n          )\n        },\n      }),\n    ]\n  } else if (matchIsShape) {\n    const lastValues = createStateRef({})\n    lastValues.type = 'shape'\n    const before: any[] = (lastValues.before = [])\n    const updaterSteps = [\n      step.mov({\n        store: lastValues,\n        to: REG_A,\n      }),\n      step.compute({\n        fn(upd, {key}, {a}) {\n          a[key] = upd\n        },\n      }),\n    ]\n    const units = [] as string[]\n    let needBarrier: boolean\n    forIn(match, (storeOrFn: any, key) => {\n      if (is.unit(storeOrFn)) {\n        needBarrier = true\n        units.push(key)\n        owners.add(storeOrFn)\n        const updater = createLinkNode(storeOrFn, [], {\n          node: updaterSteps,\n          scope: {key},\n        })\n        if (is.store(storeOrFn)) {\n          lastValues.current[key] = storeOrFn.getState()\n          const storeRef = getStoreState(storeOrFn)\n          before.push({\n            type: 'field',\n            field: key,\n            from: storeRef,\n          })\n          if (template) {\n            if (!includes(template.plain, storeRef)) {\n              updater.seq.unshift(template.loader)\n            }\n          }\n        }\n      }\n    })\n    if (needBarrier! && template) {\n      template.plain.push(lastValues)\n    }\n    splitterSeq = [\n      needBarrier! && step.barrier({priority: 'sampler'}),\n      needBarrier! &&\n        step.mov({\n          store: lastValues,\n          to: 'a',\n        }),\n      step.filter({\n        fn(data, scopeTargets, stack) {\n          for (let i = 0; i < caseNames.length; i++) {\n            const caseName = caseNames[i]\n            const caseValue = includes(units, caseName)\n              ? stack.a[caseName]\n              : match[caseName](data)\n            if (caseValue) {\n              launchCase(scopeTargets, caseName, data, stack)\n              return\n            }\n          }\n          launchCase(scopeTargets, '__', data, stack)\n        },\n      }),\n    ]\n  } else {\n    throwError('expect match to be unit, function or object')\n  }\n  createNode({\n    meta: {\n      onCopy: Object.keys(targets),\n      op: 'split',\n    },\n    parent: source,\n    scope: targets,\n    node: splitterSeq!,\n    family: {\n      type: 'crosslink',\n      owners: Array.from(owners),\n    },\n    regional: true,\n  })\n  if (!knownCases) return targets\n}\n","import {getForkPage, getGraph, getLinks, getOwners, getParent} from './getter'\nimport {bind} from './bind'\nimport {createDefer} from './defer'\nimport {watchUnit} from './watch'\nimport {is, isObject} from './is'\nimport {throwError} from './throw'\nimport {launch, forkPage, setForkPage, currentPage} from './kernel'\nimport {createNode} from './createNode'\nimport {step} from './typedef'\nimport {Domain, Store} from './unit.h'\nimport {Node, StateRef} from './index.h'\nimport {removeItem, forEach, includes, forIn} from './collection'\nimport {DOMAIN, STORE, EVENT, EFFECT, SAMPLER, MAP, FORK_COUNTER} from './tag'\n\n/**\n hydrate state on client\n\n const root = createDomain()\n hydrate(root, {\n  values: window.__initialState__\n})\n\n */\nexport function hydrate(domain: Domain, {values}: {values: any}) {\n  const isScope = isObject(domain) && (domain as any).cloneOf\n  if (!is.domain(domain) && !isScope) {\n    throwError('first argument of hydrate should be domain or scope')\n  }\n  if (!isObject(values)) {\n    throwError('values property should be an object')\n  }\n  const normalizedValues = normalizeValues(values)\n  let storeWatches: Node[]\n  let storeWatchesRefs: any[]\n  if (isScope) {\n    storeWatches = []\n    storeWatchesRefs = []\n    forIn(normalizedValues, (val, sid) => {\n      //@ts-ignore\n      const node = domain.sidMap[sid]\n      if (node) {\n        storeWatches.push(node)\n        storeWatchesRefs.push(val)\n        ;(domain as any).changedStores.add(node.meta.forkOf.id)\n      }\n    })\n  } else {\n    const fillResult = fillValues({\n      flatGraphUnits: flatGraph(domain),\n      values: normalizedValues,\n      collectWatches: true,\n    })\n    storeWatches = fillResult.storeWatches\n    storeWatchesRefs = fillResult.storeWatchesRefs.map(({current}) => current)\n  }\n\n  launch({\n    target: storeWatches,\n    params: storeWatchesRefs,\n    forkPage: isScope ? domain : false,\n  })\n}\n\nfunction fillValues({\n  flatGraphUnits,\n  values,\n  collectWatches,\n}: {\n  flatGraphUnits: Node[]\n  values: Record<string, any>\n  collectWatches: boolean\n}) {\n  const storeWatches: Node[] = []\n  const storeWatchesRefs: StateRef[] = []\n  const refsMap = {} as Record<string, StateRef>\n  const predefinedRefs = new Set()\n  const valuesSidList = Object.getOwnPropertyNames(values)\n  forEach(flatGraphUnits, node => {\n    const {reg} = node\n    const {op, unit, sid} = node.meta\n    if (unit === STORE) {\n      if (sid && includes(valuesSidList, sid)) {\n        const {state} = node.scope\n        state.current = values[sid]\n        predefinedRefs.add(state)\n      }\n    }\n    if (collectWatches && op === 'watch') {\n      const owner = node.family.owners[0]\n      if (owner.meta.unit === STORE) {\n        storeWatches.push(node)\n        storeWatchesRefs.push(owner.scope.state)\n      }\n    }\n    forIn(reg, (ref, id) => {\n      refsMap[id] = ref\n    })\n  })\n  const refGraph = createRefGraph(refsMap)\n  const result = toposort(refGraph)\n  forEach(result, id => {\n    execRef(refsMap[id])\n  })\n\n  return {\n    storeWatches,\n    storeWatchesRefs,\n  }\n\n  function execRef(ref: StateRef) {\n    let isFresh = false\n    if (ref.before && !predefinedRefs.has(ref)) {\n      forEach(ref.before, cmd => {\n        switch (cmd.type) {\n          case MAP: {\n            const from = cmd.from\n            ref.current = cmd.fn(from.current)\n            break\n          }\n          case 'field': {\n            const from = cmd.from\n            if (!isFresh) {\n              isFresh = true\n              if (Array.isArray(ref.current)) {\n                ref.current = [...ref.current]\n              } else {\n                ref.current = {...ref.current}\n              }\n            }\n            ref.current[cmd.field] = from.current\n            break\n          }\n          case 'closure':\n            break\n        }\n      })\n    }\n    if (!ref.after) return\n    const value = ref.current\n    forEach(ref.after, cmd => {\n      const to = cmd.to\n      // if (predefinedRefs.has(to)) continue\n      switch (cmd.type) {\n        case 'copy':\n          to.current = value\n          break\n        case MAP:\n          to.current = cmd.fn(value)\n          break\n      }\n    })\n  }\n}\n\nfunction createRefGraph(refsMap: Record<string, StateRef>) {\n  const items = Object.values(refsMap)\n  const refGraph = {} as Record<string, string[]>\n  forEach(items, ({id}) => {\n    refGraph[id] = []\n  })\n  //prettier-ignore\n  forEach(items, ({id, before, after}) => {\n    before && forEach(before, cmd => {\n      refGraph[cmd.from.id].push(id)\n    })\n    after && forEach(after, cmd => {\n      refGraph[id].push(cmd.to.id)\n    })\n  })\n  return refGraph\n}\n\n/**\n serialize state on server\n */\nexport function serialize(\n  {clones, changedStores}: any,\n  {\n    ignore = [],\n    onlyChanges,\n  }: {ignore?: Array<Store<any>>; onlyChanges?: boolean} = {},\n) {\n  const result = {} as Record<string, any>\n  forEach(clones, ({meta, scope, reg}) => {\n    if (meta.unit !== STORE) return\n    const {sid} = meta\n    if (!sid) return\n    if (onlyChanges || meta.isCombine) {\n      if (!changedStores.has(meta.forkOf.id)) return\n    }\n    result[sid] = reg[scope.state.id].current\n  })\n  forEach(ignore, ({sid}) => {\n    if (sid) delete result[sid]\n  })\n  return result\n}\n\n/** bind event to scope */\nexport function scopeBind(unit: any) {\n  if (!forkPage) {\n    throwError('scopeBind cannot be called outside of forked .watch')\n  }\n  const savedForkPage = forkPage\n  const localUnit = forkPage.find(unit)\n  return is.effect(unit)\n    ? (params: any) => {\n        const req = createDefer()\n        launch({\n          target: localUnit,\n          params: {\n            params,\n            req,\n          },\n          forkPage: savedForkPage,\n        })\n      }\n    : (params: any) => {\n        launch({target: localUnit, params, forkPage: savedForkPage})\n        return params\n      }\n}\n\nfunction normalizeValues(\n  values: Map<Store<any>, any> | Record<string, any>,\n  assertEach = (key: any, value: any) => {},\n) {\n  if (values instanceof Map) {\n    const result = {} as Record<string, any>\n    for (const [key, value] of values) {\n      if (!is.unit(key)) throwError('Map key should be a unit')\n      assertEach(key, value)\n      result[key.sid!] = value\n    }\n    return result\n  }\n  return values\n}\n\nexport function fork(\n  domain: Domain,\n  {values, handlers}: {values?: any; handlers?: any} = {},\n) {\n  if (!is.domain(domain)) throwError('first argument of fork should be domain')\n  const needToFill = !!values\n  values = normalizeValues(\n    values || {},\n    unit =>\n      !is.store(unit) &&\n      throwError('Values map can contain only stores as keys'),\n  )\n  const forked = cloneGraph(domain)\n  if (needToFill) {\n    fillValues()\n  }\n  if (handlers) {\n    handlers = normalizeValues(\n      handlers,\n      unit =>\n        !is.effect(unit) &&\n        throwError(`Handlers map can contain only effects as keys`),\n    )\n    const handlerKeys = Object.keys(handlers)\n    forEach(forked.clones, ({scope, meta}) => {\n      if (meta.sid && includes(handlerKeys, meta.sid)) {\n        scope.runner.scope.getHandler = () => handlers[meta.sid]\n      }\n    })\n  }\n  return forked\n\n  function fillValues() {\n    const sourceList = flatGraph(domain)\n    const sourceRefsMap = {} as Record<string, StateRef>\n    const refsMap = {} as Record<string, StateRef>\n    const predefinedRefs = new Set()\n    const templateOwnedRefs = new Set<string>()\n    const valuesSidList = Object.getOwnPropertyNames(values)\n    forEach(sourceList, ({reg, meta}) => {\n      const {nativeTemplate} = meta\n      forIn(reg, (ref, id) => {\n        sourceRefsMap[id] = ref\n        if (nativeTemplate) {\n          templateOwnedRefs.add(id)\n        }\n      })\n    })\n    forEach(forked.clones, node => {\n      const {reg} = node\n      const {unit, sid} = node.meta\n      if (unit === STORE) {\n        if (sid && includes(valuesSidList, sid)) {\n          const {state} = node.scope\n          reg[state.id].current = values[sid]\n          predefinedRefs.add(state)\n          forked.changedStores.add(node.meta.forkOf.id)\n        }\n      }\n      forIn(reg, (ref, id) => {\n        refsMap[id] = ref\n      })\n    })\n    const refGraph = createRefGraph(sourceRefsMap)\n    const result = toposort(refGraph, templateOwnedRefs)\n    forEach(result, id => {\n      execRef(refsMap[id], sourceRefsMap[id])\n    })\n\n    function execRef(ref: StateRef, sourceRef?: StateRef) {\n      let isFresh = false\n      if (sourceRef && sourceRef.before && !predefinedRefs.has(ref)) {\n        forEach(sourceRef.before, cmd => {\n          switch (cmd.type) {\n            case MAP: {\n              const from = refsMap[cmd.from.id]\n              ref.current = cmd.fn(from.current)\n              break\n            }\n            case 'field': {\n              const from = refsMap[cmd.from.id]\n              if (!isFresh) {\n                isFresh = true\n                if (Array.isArray(ref.current)) {\n                  ref.current = [...ref.current]\n                } else {\n                  ref.current = {...ref.current}\n                }\n              }\n              ref.current[cmd.field] = from.current\n              break\n            }\n            case 'closure':\n              break\n          }\n        })\n      }\n      if (!sourceRef || !sourceRef.after) return\n      const value = ref.current\n      forEach(sourceRef.after, cmd => {\n        const to = refsMap[cmd.to.id]\n        // if (predefinedRefs.has(to)) continue\n        switch (cmd.type) {\n          case 'copy':\n            to.current = value\n            break\n          case MAP:\n            to.current = cmd.fn(value)\n            break\n        }\n      })\n    }\n  }\n}\n\nfunction toposort(rawGraph: Record<string, string[]>, ignore?: Set<string>) {\n  const graph = {} as Record<string, string[]>\n  for (const id in rawGraph) {\n    graph[id] = [...new Set(rawGraph[id])]\n  }\n  const result = [] as string[]\n  const visited = {} as Record<string, boolean>\n  const temp = {} as Record<string, boolean>\n  for (const node in graph) {\n    if (!visited[node] && !temp[node]) {\n      topologicalSortHelper(node)\n    }\n  }\n  result.reverse()\n  if (ignore && ignore.size > 0) {\n    const processed = [] as string[]\n    const ignored = [...ignore]\n    let item: string | void\n    while ((item = ignored.shift())) {\n      processed.push(item)\n      forEach(graph[item], child => {\n        if (includes(processed, child) || includes(ignored, child)) return\n        ignored.push(child)\n      })\n    }\n    forEach(processed, item => {\n      removeItem(result, item)\n    })\n  }\n  return result\n\n  function topologicalSortHelper(node: string) {\n    temp[node] = true\n    const neighbors = graph[node]\n    for (let i = 0; i < neighbors.length; i++) {\n      const n = neighbors[i]\n      if (temp[n]) {\n        continue\n        // throw Error('found cycle in DAG')\n      }\n      if (!visited[n]) {\n        topologicalSortHelper(n)\n      }\n    }\n    temp[node] = false\n    visited[node] = true\n    result.push(node)\n  }\n}\n\nexport function allSettled(\n  start: any,\n  {scope, params: ctx}: {scope: any; params?: any},\n) {\n  if (!is.unit(start))\n    return Promise.reject(Error('first argument should be unit'))\n  const defer = createDefer()\n  //@ts-ignore\n  defer.parentFork = forkPage\n  const {forkInFlightCounter} = scope.graphite.scope\n  forkInFlightCounter.scope.defers.push(defer)\n  const contextStart = scope.find(start)\n\n  const launchUnits = [contextStart]\n  const launchParams = []\n  if (is.effect(start)) {\n    launchParams.push({\n      params: ctx,\n      req: {\n        rs(value: any) {\n          //@ts-ignore\n          defer.value = {status: 'done', value}\n        },\n        rj(value: any) {\n          //@ts-ignore\n          defer.value = {status: 'fail', value}\n        },\n      },\n    })\n  } else {\n    launchParams.push(ctx)\n  }\n  launchUnits.push(forkInFlightCounter)\n  launchParams.push(null)\n  launch({\n    target: launchUnits,\n    params: launchParams,\n    forkPage: scope,\n  })\n  return defer.req\n}\n\nfunction flatGraph(unit: any) {\n  const list = [] as Node[]\n  ;(function traverse(node) {\n    if (includes(list, node)) return\n    list.push(node)\n    forEachRelatedNode(node, traverse)\n  })(getGraph(unit))\n  return list\n}\n\n/**\n everything we need to clone graph section\n reachable from given unit\n */\nfunction cloneGraph(unit: any) {\n  const list = flatGraph(unit)\n  const refs = new Map()\n  const scope = {\n    defers: [],\n    inFlight: 0,\n    fxID: 0,\n  }\n  const changedStores = new Set<string>()\n  const putStoreToChanged = step.compute({\n    fn(upd, _, stack) {\n      if (\n        !stack.node.meta.isCombine ||\n        (getParent(stack) && getParent(stack).node.meta.op !== 'combine')\n      )\n        changedStores.add(stack.node.meta.forkOf.id)\n      return upd\n    },\n  })\n  const forkInFlightCounter = createNode({\n    scope,\n    node: [\n      step.compute({\n        fn(_, scope, stack) {\n          if (!stack.parent) {\n            scope.fxID += 1\n            return\n          }\n          if (stack.parent.node.meta.named === 'finally') {\n            scope.inFlight -= 1\n          } else {\n            scope.inFlight += 1\n            scope.fxID += 1\n          }\n        },\n      }),\n      step.barrier({priority: SAMPLER}),\n      step.run({\n        fn(_, scope) {\n          const {inFlight, defers, fxID} = scope\n          if (inFlight > 0 || defers.length === 0) return\n          Promise.resolve().then(() => {\n            if (scope.fxID !== fxID) return\n            forEach(defers.splice(0, defers.length), (defer: any) => {\n              setForkPage(defer.parentFork)\n              defer.rs(defer.value)\n            })\n          })\n        },\n      }),\n    ],\n    meta: {unit: FORK_COUNTER},\n  })\n  const nodeMap = {} as Record<string, Node>\n  const sidMap = {} as Record<string, Node>\n  const clones = list.map(node => {\n    const {seq, next, meta, scope} = node\n    const result = createNode({\n      node: seq.map(step => ({\n        id: step.id,\n        type: step.type,\n        data: {...step.data},\n        hasRef: step.hasRef,\n      })) as any,\n      child: [...next],\n      meta: {forkOf: node, ...meta},\n      scope: {...scope},\n    })\n    result.family = {\n      type: node.family.type,\n      links: [...getLinks(node)],\n      owners: [...getOwners(node)],\n    }\n    nodeMap[node.id] = result\n    if (meta.sid) sidMap[meta.sid] = result\n    return result\n  })\n  const page = {} as Record<string, StateRef>\n  forEach(clones, node => {\n    const {\n      reg,\n      scope,\n      meta: {onCopy, op, unit},\n    } = node\n    forIn(reg, (ref, id) => {\n      let newRef = refs.get(ref)\n      if (!newRef) {\n        newRef = {\n          id: ref.id,\n          current: ref.current, //ref.id in values ? values[ref.id] : ref.current,\n        }\n        refs.set(ref, newRef)\n      }\n      page[id] = reg[id] = newRef\n    })\n    if (onCopy) {\n      forEach(onCopy, (copyField: string) => {\n        const origValue = scope[copyField]\n        scope[copyField] = Array.isArray(origValue)\n          ? origValue.map(findClone)\n          : findClone(origValue)\n      })\n    }\n    forEachRelatedNode(node, (node, i, siblings) => {\n      siblings[i] = findClone(node)\n    })\n    const itemTag = op || unit\n    switch (itemTag) {\n      case STORE:\n        node.meta.wrapped = wrapStore(node)\n        if (node.meta.sid) node.seq.push(putStoreToChanged)\n        break\n      // case EVENT:\n      //   break\n      case EFFECT:\n        node.next.push(forkInFlightCounter)\n        break\n      case 'fx': {\n        scope.finally.next.push(forkInFlightCounter)\n        break\n      }\n      // case 'watch':\n      //   break\n    }\n  })\n\n  return {\n    cloneOf: unit,\n    changedStores,\n    nodeMap,\n    sidMap,\n    clones,\n    find: findClone,\n    reg: page,\n    getState: (store: any) => findClone(store).meta.wrapped.getState(),\n    graphite: createNode({\n      family: {\n        type: DOMAIN,\n        links: [forkInFlightCounter, ...clones],\n      },\n      meta: {unit: 'fork'},\n      scope: {forkInFlightCounter},\n    }),\n  }\n\n  function findClone(unit: any) {\n    const node = getGraph(unit)\n    const index = list.indexOf(node)\n    if (index === -1) {\n      let unitName = 'unit'\n      if (unit !== node && unit.id !== unit.shortName) unitName = unit.shortName\n      throwError(`${unitName} not found in forked scope`)\n    }\n    return clones[index]\n  }\n}\n\nfunction wrapStore(node: Node) {\n  return {\n    kind: STORE,\n    getState: () => node.reg[node.scope.state.id].current,\n    updates: {\n      watch: bind(watchUnit, node),\n    },\n    graphite: node,\n    family: node.family,\n  }\n}\n\nfunction forEachRelatedNode(\n  node: Node,\n  cb: (node: Node, index: number, siblings: Node[]) => void,\n) {\n  const unit = node.meta.unit\n  if (unit === 'fork' || unit === FORK_COUNTER) return\n  forEach(node.next, cb)\n  forEach(getOwners(node), cb)\n  forEach(getLinks(node), cb)\n}\n","export const observableSymbol: any =\n  (typeof Symbol !== 'undefined' && Symbol.observable) || '@@observable'\n","import {kind} from './index.h'\nimport {DOMAIN, STORE, EVENT, EFFECT} from './tag'\nimport {isObject, isFunction} from './is'\n\nexport const unit = (obj: any) =>\n  (isFunction(obj) || isObject(obj)) && 'kind' in obj\n\nconst is = (type: kind) => (obj: any) => unit(obj) && obj.kind === type\n\nexport const store = is(STORE)\nexport const event = is(EVENT)\nexport const effect = is(EFFECT)\nexport const domain = is(DOMAIN)\n","export const throwError = (message: string) => {\n  throw Error(message)\n}\n","const idCount = () => {\n  let id = 0\n  return () => (++id).toString(36)\n}\n\nexport const nextUnitID = idCount()\nexport const nextStepID = idCount()\nexport const nextNodeID = idCount()\n","export const bind = (fn: Function, target: any) => fn.bind(null, target)\nexport const bind2 = (fn: Function, target: any, arg: any) =>\n  fn.bind(null, target, arg)\n","import {StateRef, Run, Filter, Compute, Barrier, Check, Mov} from './index.h'\nimport {nextStepID} from './id'\nimport {bind2} from './bind'\nimport {BARRIER, FILTER, STACK, STORE} from './tag'\n\nconst cmd = (type: any, hasRef: boolean, data: any): any => ({\n  id: nextStepID(),\n  type,\n  data,\n  hasRef,\n})\n\nlet nextBarrierID = 0\n\nexport const barrier: (data: {priority?: 'barrier' | 'sampler'}) => Barrier = ({\n  priority = BARRIER,\n}) =>\n  cmd(BARRIER, false, {\n    barrierID: ++nextBarrierID,\n    priority,\n  })\nexport const mov: (data: {\n  from?: 'value' | 'store' | 'stack' | 'a' | 'b'\n  to?: 'stack' | 'a' | 'b' | 'store'\n  store?: any\n  target?: any\n}) => Mov = ({from = STORE, store, target, to = target ? STORE : STACK}) =>\n  cmd('mov', from === STORE, {from, store, to, target})\nexport const check: {\n  defined(): Check\n  changed(config: {store: StateRef}): Check\n} = {\n  defined: () => cmd('check', false, {type: 'defined'}),\n  changed: ({store}) => cmd('check', true, {type: 'changed', store}),\n}\nexport const compute: (data: {\n  fn: (data: any, scope: {[key: string]: any}, stack: any) => any\n}) => Compute = bind2(cmd, 'compute', false)\nexport const filter: (data: {\n  fn: (data: any, scope: {[key: string]: any}, stack: any) => any\n}) => Filter = bind2(cmd, FILTER, false)\nexport const run: (data: {\n  fn: (data: any, scope: {[key: string]: any}, stack: any) => any\n}) => Run = bind2(cmd, 'run', false)\nexport const update: (data: {store: StateRef}) => Mov = ({store}) =>\n  mov({from: STACK, target: store})\n","import {StateRef} from './index.h'\nimport {nextStepID} from './id'\n\nexport const createStateRef = (current?: any): StateRef => ({\n  id: nextStepID(),\n  current,\n})\nexport const readRef = ({current}: StateRef | {current: any}) => current\n","export const callStackAReg = (stack: any, {fn}: any, {a}: any) => fn(stack, a)\nexport const callARegStack = (stack: any, {fn}: any, {a}: any) => fn(a, stack)\nexport const callStack = (stack: any, {fn}: any, _: any) => fn(stack)\n","import {Node, StateRef} from './index.h'\n\nexport const getGraph = (graph: any): Node => graph.graphite || graph\nexport const getOwners = (node: Node) => node.family.owners\nexport const getLinks = (node: Node) => node.family.links\nexport const getStoreState = (store: any): StateRef => store.stateRef\nexport const getConfig = (opts: any) => opts.config\nexport const getNestedConfig = (opts: any) => opts.É”\nexport const getValue = (stack: any) => stack.value\nexport const getSubscribers = (store: any) => store.subscribers\nexport const getParent = (unit: any) => unit.parent\nexport const getForkPage = (val: any) => val.forkPage\n","import {NodeUnit} from './index.h'\nimport {getGraph, getOwners, getLinks} from './getter'\nimport {DOMAIN, CROSSLINK} from './tag'\n\nexport const own = (ownerUnit: NodeUnit, links: NodeUnit[]) => {\n  const owner = getGraph(ownerUnit)\n  for (let i = 0; i < links.length; i++) {\n    const link = getGraph(links[i])\n    if (owner.family.type !== DOMAIN) link.family.type = CROSSLINK\n    getOwners(link).push(owner)\n    getLinks(owner).push(link)\n  }\n}\n","import {getConfig, getNestedConfig} from './getter'\nimport {assertObject} from './is'\n\nexport const onConfigNesting = (\n  rawConfig: any,\n  fn: (babelData: any, userConfig: any) => void,\n) => {\n  assertObject(rawConfig)\n  if (getNestedConfig(rawConfig)) {\n    fn(getConfig(rawConfig), getNestedConfig(rawConfig))\n  }\n}\n\nexport const processArgsToConfig = (args: any[]): [any[], any | void] => {\n  let metadata\n  onConfigNesting(args[0], (injected, config) => {\n    metadata = injected\n    args = config\n  })\n  return [args, metadata]\n}\n","import {Node, NodeUnit} from './index.h'\nimport {getGraph, getOwners, getLinks, getSubscribers} from './getter'\nimport {is} from './is'\nimport {removeItem} from './collection'\nimport {CROSSLINK} from './tag'\n\nconst removeFromNode = (currentNode: Node, targetNode: Node) => {\n  removeItem(currentNode.next, targetNode)\n  removeItem(getOwners(currentNode), targetNode)\n  removeItem(getLinks(currentNode), targetNode)\n}\nconst clearNodeNormalized = (\n  targetNode: Node,\n  deep: boolean,\n  isDomainUnit: boolean,\n) => {\n  targetNode.next.length = 0\n  targetNode.seq.length = 0\n  //@ts-ignore\n  targetNode.scope = null\n  let currentNode\n  let list = getLinks(targetNode)\n  while ((currentNode = list.pop())) {\n    removeFromNode(currentNode, targetNode)\n    if (\n      deep ||\n      (isDomainUnit && !targetNode.meta.sample) ||\n      currentNode.family.type === CROSSLINK\n    ) {\n      clearNodeNormalized(\n        currentNode,\n        deep,\n        currentNode.meta.op !== 'on' && isDomainUnit,\n      )\n    }\n  }\n  list = getOwners(targetNode)\n  while ((currentNode = list.pop())) {\n    removeFromNode(currentNode, targetNode)\n    if (isDomainUnit && currentNode.family.type === CROSSLINK) {\n      clearNodeNormalized(\n        currentNode,\n        deep,\n        currentNode.meta.op !== 'on' && isDomainUnit,\n      )\n    }\n  }\n}\nconst clearMap = (map: any) => map.clear()\nexport const clearNode = (\n  graphite: NodeUnit,\n  {\n    deep,\n  }: {\n    deep?: boolean\n  } = {},\n) => {\n  let isDomainUnit = false\n  //@ts-ignore\n  if (graphite.ownerSet) graphite.ownerSet.delete(graphite)\n  if (is.store(graphite)) {\n    clearMap(getSubscribers(graphite))\n  } else if (is.domain(graphite)) {\n    isDomainUnit = true\n    //@ts-ignore\n    const history = graphite.history\n    clearMap(history.events)\n    clearMap(history.effects)\n    clearMap(history.stores)\n    clearMap(history.domains)\n  }\n  clearNodeNormalized(getGraph(graphite), !!deep, isDomainUnit)\n}\n","import {Subscription, NodeUnit} from './index.h'\nimport {bind2} from './bind'\nimport {clearNode} from './clearNode'\n\nexport const createSubscription = (node: NodeUnit): Subscription => {\n  const result = bind2(clearNode, node, undefined)\n  result.unsubscribe = result\n  return result\n}\n","import {onConfigNesting} from './config'\nimport {createNode} from './createNode'\nimport {Subscription, NodeUnit, Cmd} from './index.h'\nimport {createSubscription} from './subscription'\nimport {assertNodeSet} from './is'\n\nexport const createLinkNode = (\n  parent: NodeUnit,\n  child: NodeUnit | NodeUnit[],\n  {\n    node,\n    scope,\n    meta,\n  }: {\n    node?: Array<Cmd | false | void | null>\n    scope?: {[name: string]: any}\n    meta?: {[name: string]: any}\n  },\n) =>\n  createNode({\n    node,\n    parent,\n    child,\n    scope,\n    meta,\n    family: {\n      owners: [parent, child],\n      links: child,\n    },\n    regional: true,\n  })\nexport const forward = (opts: {\n  from: NodeUnit | NodeUnit[]\n  to: NodeUnit | NodeUnit[]\n  meta?: Record<string, any>\n}): Subscription => {\n  let config\n  onConfigNesting(opts, (injectedData, userConfig) => {\n    config = injectedData\n    opts = userConfig\n  })\n  const {from, to, meta = {op: 'forward'}} = opts\n  assertNodeSet(from, 'forward', '\"from\"')\n  assertNodeSet(to, 'forward', '\"to\"')\n  if (config) meta.config = config\n  return createSubscription(\n    createNode({\n      parent: from,\n      child: to,\n      meta,\n      family: {},\n      regional: true,\n    }),\n  )\n}\n","import {step} from './typedef'\nimport {callStack} from './caller'\nimport {createNode} from './createNode'\nimport {Subscription, NodeUnit} from './index.h'\nimport {createSubscription} from './subscription'\nimport {throwError} from './throw'\nimport {isFunction} from './is'\nimport {forkPage} from './kernel'\nimport {getGraph} from './getter'\n\nexport const watchUnit = (\n  unit: NodeUnit,\n  handler: (payload: any) => any,\n): Subscription => {\n  if (!isFunction(handler)) throwError('.watch argument should be a function')\n  if (forkPage) {\n    const forkedNode = forkPage.nodeMap[getGraph(unit).id]\n    if (forkedNode) unit = forkedNode\n  }\n  return createSubscription(\n    createNode({\n      scope: {fn: handler},\n      node: [step.run({fn: callStack})],\n      parent: unit,\n      meta: {op: 'watch'},\n      family: {\n        owners: unit,\n      },\n      regional: true,\n    }),\n  )\n}\n","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","module.exports = require(\"../dist/no-ssr/index.js\");\n","import {Store, is, clearNode, createStore} from 'effector'\nimport React from 'react'\nimport {useIsomorphicLayoutEffect} from './useIsomorphicLayoutEffect'\nimport {throwError} from './throw'\n\nexport function useStore<State>(store: Store<State>): State {\n  if (!is.store(store)) throwError('expect useStore argument to be a store')\n\n  const currentValue = store.getState()\n  const inc = React.useReducer((n: any, action: void) => n + 1, 0)[1]\n  const currentStore = React.useRef({\n    store,\n    value: currentValue,\n    pending: false,\n  })\n  useIsomorphicLayoutEffect(() => {\n    const stop = store.updates.watch(upd => {\n      const ref = currentStore.current\n      if (!ref.pending) {\n        ref.value = upd\n        ref.pending = true\n        inc()\n        ref.pending = false\n      }\n    })\n    const newValue = store.getState()\n    const ref = currentStore.current\n    if (ref.store === store && ref.value !== newValue) {\n      ref.value = newValue\n      ref.pending = true\n      inc()\n      ref.pending = false\n    }\n    ref.store = store\n    return stop\n  }, [store])\n  return currentValue\n}\n\nexport function useStoreMap<State, Result, Keys extends ReadonlyArray<any>>(\n  configOrStore:\n    | {\n        store: Store<State>\n        keys: Keys\n        fn(state: State, keys: Keys): Result\n        updateFilter?: (update: Result, current: Result) => boolean\n      }\n    | Store<State>,\n  separateFn?: (state: State, keys: Keys) => Result,\n): Result {\n  let fn: (state: State, keys: Keys) => Result\n  let updateFilter: (update: Result, current: Result) => boolean\n  let store: Store<State>\n  let keys: Keys\n  if (separateFn) {\n    fn = separateFn\n    store = configOrStore as Store<State>\n    keys = ([] as unknown) as Keys\n  } else {\n    fn = (configOrStore as any).fn\n    store = (configOrStore as any).store\n    keys = (configOrStore as any).keys\n    updateFilter = (configOrStore as any).updateFilter\n  }\n  if (!is.store(store)) throwError('useStoreMap expects a store')\n  if (!Array.isArray(keys)) throwError('useStoreMap expects an array as keys')\n  if (typeof fn !== 'function') throwError('useStoreMap expects a function')\n  const result: Store<Result> = React.useMemo(\n    () =>\n      createStore(fn(store.getState(), keys), {updateFilter}).on(\n        store,\n        (_, state) => fn(state, keys),\n      ),\n    keys,\n  )\n  const state = useStore(result)\n  useIsomorphicLayoutEffect(\n    () => () => {\n      result.off(store)\n      clearNode(result, {deep: true})\n    },\n    keys,\n  )\n  return state\n}\n","export function withDisplayName(name: string, Component: any) {\n  Component.displayName = name\n  return Component\n}\n","import React from 'react'\nimport {Store, is, combine, createEvent} from 'effector'\nimport {useStore} from './useStore'\nimport {useIsomorphicLayoutEffect} from './useIsomorphicLayoutEffect'\nimport {StoreView} from './index.h'\nimport {withDisplayName} from './withDisplayName'\nimport {throwError} from './throw'\n\nexport function createComponent<Props, State>(\n  shape: Store<State> | {[key: string]: Store<any> | any},\n  renderProp: (props: Props, state: State) => React.ReactNode,\n): StoreView<State, Props> {\n  let store: Store<any>\n  if (is.store(shape)) {\n    store = shape\n  } else {\n    if (typeof shape === 'object' && shape !== null) {\n      store = combine(shape)\n    } else throwError('shape should be a store or object with stores')\n  }\n  let storeName = 'Unknown'\n  //@ts-ignore\n  if (store && store.shortName) {\n    storeName = store.shortName\n  }\n  const mounted = createEvent<any>()\n  const unmounted = createEvent<any>()\n\n  function RenderComponent(props: Props) {\n    const propsRef = React.useRef(props)\n    const state = useStore(store)\n    useIsomorphicLayoutEffect(() => {\n      mounted({props: propsRef.current, state: store.getState()})\n      return () => {\n        unmounted({props: propsRef.current, state: store.getState()})\n      }\n    }, [])\n    const result = renderProp(props, state)\n    propsRef.current = props\n    return result\n  }\n  RenderComponent.mounted = mounted\n  RenderComponent.unmounted = unmounted\n  return withDisplayName(`${storeName}.View`, RenderComponent)\n}\n","import {Store} from 'effector'\n\nimport {StoreConsumer} from './index.h'\nimport {createComponent} from './createComponent'\n\nexport function createStoreConsumer<State>(\n  store: Store<State>,\n): StoreConsumer<State> {\n  return createComponent(store, ({children}, state) => children(state))\n}\n","/* eslint-disable react-hooks/rules-of-hooks */\nimport React from 'react'\nimport {Store, is} from 'effector'\nimport {useStore, useStoreMap} from './useStore'\nimport {withDisplayName} from './withDisplayName'\nimport {throwError} from './throw'\n\nexport function useList<T>(\n  list: Store<T[]>,\n  renderItem:\n    | {\n        keys?: any[]\n        fn(item: T, index: number): React.ReactNode\n        getKey?: (item: T) => string\n      }\n    | ((item: T, index: number) => React.ReactNode),\n): React.ReactNode {\n  let keys = [] as any[]\n  let fn\n  let getKey: (item: T) => string\n  if (typeof renderItem === 'object' && renderItem !== null) {\n    if (renderItem.keys) keys = renderItem.keys\n    fn = renderItem.fn\n    if (renderItem.getKey) getKey = renderItem.getKey\n  } else {\n    fn = renderItem\n  }\n  if (!is.store(list)) throwError('expect useList first argument to be a store')\n  if (typeof fn !== 'function')\n    throwError(\"expect useList's renderItem to be a function\")\n  if (!Array.isArray(keys)) throwError(\"expect useList's keys to be an array\")\n  const Item = React.useMemo(() => {\n    const Item = withDisplayName(\n      `${list.shortName || 'Unknown'}.Item`,\n      (\n        props:\n          | {index: number; keys: any[]; keyVal: never; value: never}\n          | {index: never; keys: any[]; keyVal: string; value: T},\n      ) => {\n        const {index, keys, keyVal, value} = props\n        const isKeyed = !!fnRef.current[1]\n        if (isKeyed) {\n          return fnRef.current[0](value, keyVal as any)\n        }\n        const item = useStoreMap({\n          store: list,\n          keys: [index, ...keys],\n          fn: (list, keys) => list[keys[0]],\n        })\n        return fnRef.current[0](item, index)\n      },\n    )\n    return React.memo(Item)\n  }, [list, !!getKey!])\n  const fnRef = React.useRef([fn, getKey!] as const)\n  fnRef.current = [fn, getKey!]\n  const keysSelfMemo = React.useMemo(() => keys, keys)\n  if (getKey!) {\n    return useStore(list).map(value => {\n      const key = fnRef.current[1](value)\n      return React.createElement(Item, {\n        keyVal: key,\n        key,\n        keys: keysSelfMemo,\n        value,\n      })\n    })\n  } else {\n    const length = useStoreMap({\n      store: list,\n      keys: [list],\n      fn: list => list.length,\n    })\n    return Array.from({length}, (_, i) =>\n      React.createElement(Item, {\n        index: i,\n        key: i,\n        keys: keysSelfMemo,\n      }),\n    )\n  }\n}\n","import React from 'react'\nimport {Store} from 'effector'\n\nimport {useStore} from './useStore'\nimport {withDisplayName} from './withDisplayName'\n\nexport function createReactState<State>(\n  store: Store<State>,\n  Component: React.ComponentType<any>,\n) {\n  const wrappedComponentName =\n    Component.displayName || Component.name || 'Unknown'\n  return withDisplayName(`Connect(${wrappedComponentName})`, (props: any) =>\n    React.createElement(Component, Object.assign({}, props, useStore(store))),\n  )\n}\n","import React from 'react'\nimport {createStore, launch, Store, Domain, createEvent} from 'effector'\nimport {Gate} from './index.h'\nimport {useIsomorphicLayoutEffect} from './useIsomorphicLayoutEffect'\nimport {withDisplayName} from './withDisplayName'\n\nexport function useGate<Props>(\n  GateComponent: Gate<Props>,\n  props: Props = {} as any,\n) {\n  const propsRef = React.useRef<any>(null)\n  useIsomorphicLayoutEffect(() => {\n    GateComponent.open(propsRef.current)\n    return () => GateComponent.close(propsRef.current) as any\n  }, [GateComponent])\n  if (!shallowCompare(propsRef.current, props)) {\n    propsRef.current = props\n    GateComponent.set(props)\n  }\n}\n\nfunction shallowCompare(a: any, b: any) {\n  if (a === b) return true\n  if (\n    typeof a === 'object' &&\n    a !== null &&\n    typeof b === 'object' &&\n    b !== null\n  ) {\n    const aKeys = Object.keys(a)\n    const bKeys = Object.keys(b)\n    if (aKeys.length !== bKeys.length) return false\n    for (let i = 0; i < aKeys.length; i++) {\n      const key = aKeys[i]\n      if (a[key] !== b[key]) return false\n    }\n    return true\n  }\n  return false\n}\nexport function createGateImplementation<State>({\n  name = 'gate',\n  domain,\n  defaultState,\n  hook: useGateHook,\n}: {\n  name?: string\n  domain?: Domain\n  defaultState: State | {}\n  hook: typeof useGate\n}): Gate<State> {\n  const fullName = `${domain ? `${domain.compositeName.fullName}/` : ''}${name}`\n  const set = createEvent<State>(`${fullName}.set`)\n  const open = createEvent<State>(`${fullName}.open`)\n  const close = createEvent<State>(`${fullName}.close`)\n  const status = createStore(Boolean(false), {\n    name: `${fullName}.status`,\n  })\n    .on(open, () => Boolean(true))\n    .on(close, () => Boolean(false))\n  const state = createStore(defaultState as State, {\n    name: `${fullName}.state`,\n  })\n    .on(set, (_, state) => state)\n    .reset(close)\n  if (domain) {\n    const {hooks} = domain as any\n    launch({\n      target: [\n        hooks.store,\n        hooks.store,\n        hooks.event,\n        hooks.event,\n        hooks.event,\n      ] as any,\n      params: [status, state, open, close, set],\n    })\n  }\n  function GateComponent(props: State) {\n    useGateHook(GateComponent as any, props)\n    return null\n  }\n  GateComponent.open = open\n  GateComponent.close = close\n  GateComponent.status = status\n  GateComponent.state = state\n  GateComponent.set = set\n  return withDisplayName(`Gate:${fullName}`, GateComponent)\n}\nexport function createGate<Props>(\n  name: string = 'gate',\n  defaultState: Props = {} as any,\n): Gate<Props> {\n  let domain\n  if (typeof name === 'object' && name !== null) {\n    if ('defaultState' in name) {\n      //@ts-ignore\n      defaultState = name.defaultState\n    }\n    //@ts-ignore\n    if (name.domain) domain = name.domain\n    //@ts-ignore\n    name = name.name\n  }\n  return createGateImplementation({\n    name,\n    domain,\n    defaultState,\n    hook: useGate,\n  })\n}\n","import {Event} from 'effector'\n\n/**\nbind event to scope\n\nworks like React.useCallback, but for scopes\n*/\nexport function useEvent<T>(event: Event<T>): (payload: T) => T {\n  return event\n}\n","import React from 'react'\n\nexport const useIsomorphicLayoutEffect =\n  typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect\n","export const throwError = (message: string) => {\n  throw Error(message)\n}\n","import React from 'react'\nimport {Store} from 'effector'\nimport {useStore} from './useStore'\nimport {withDisplayName} from './withDisplayName'\n\nexport const createContextComponent = <Props, State, Context>(\n  store: Store<State>,\n  context: React.Context<Context>,\n  renderProp: (props: Props, state: State, context: Context) => React.ReactNode,\n): React.ComponentType<Props> =>\n  withDisplayName(\n    `${store.shortName || 'Unknown'}.ContextComponent`,\n    (props: any) => {\n      const ctx = React.useContext(context)\n      const state = useStore(store)\n      return renderProp(props, state, ctx)\n    },\n  )\n","import React from 'react'\n\nimport {Store, is} from 'effector'\nimport {createReactState} from './createReactState'\n\nexport const connect = <State>(Component: React.ComponentType<any>) => (\n  store: Store<State>,\n) => {\n  let View: any = Component\n  if (typeof Component !== 'function') {\n    View = store\n    store = Component as any\n  }\n  return createReactState(store, View)\n}\n","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\nvar enhanceError = require('./core/enhanceError');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n\n  transitional: {\n    silentJSONParsing: true,\n    forcedJSONParsing: true,\n    clarifyTimeoutError: false\n  },\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {\n      setContentTypeIfUnset(headers, 'application/json');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw enhanceError(e, this, 'E_JSON_PARSE');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","module.exports = require('./lib/axios');","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        config.transitional && config.transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\n/**\n * Helpers to enable Immutable compatibility *without* bringing in\n * the 'immutable' package as a dependency.\n */\n\n/**\n * Check if an object is immutable by checking if it has a key specific\n * to the immutable library.\n *\n * @param  {any} object\n * @return {bool}\n */\nfunction isImmutable(object) {\n  return !!(object && typeof object.hasOwnProperty === 'function' && (object.hasOwnProperty('__ownerID') || // Immutable.Map\n  object._map && object._map.hasOwnProperty('__ownerID'))); // Immutable.Record\n}\n/**\n * Denormalize an immutable entity.\n *\n * @param  {Schema} schema\n * @param  {Immutable.Map|Immutable.Record} input\n * @param  {function} unvisit\n * @param  {function} getDenormalizedEntity\n * @return {Immutable.Map|Immutable.Record}\n */\n\nfunction denormalizeImmutable(schema, input, unvisit) {\n  return Object.keys(schema).reduce(function (object, key) {\n    // Immutable maps cast keys to strings on write so we need to ensure\n    // we're accessing them using string keys.\n    var stringKey = \"\" + key;\n\n    if (object.has(stringKey)) {\n      return object.set(stringKey, unvisit(object.get(stringKey), schema[stringKey]));\n    } else {\n      return object;\n    }\n  }, input);\n}\n\nvar getDefaultGetId = function getDefaultGetId(idAttribute) {\n  return function (input) {\n    return isImmutable(input) ? input.get(idAttribute) : input[idAttribute];\n  };\n};\n\nvar EntitySchema = /*#__PURE__*/function () {\n  function EntitySchema(key, definition, options) {\n    if (definition === void 0) {\n      definition = {};\n    }\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (!key || typeof key !== 'string') {\n      throw new Error(\"Expected a string key for Entity, but found \" + key + \".\");\n    }\n\n    var _options = options,\n        _options$idAttribute = _options.idAttribute,\n        idAttribute = _options$idAttribute === void 0 ? 'id' : _options$idAttribute,\n        _options$mergeStrateg = _options.mergeStrategy,\n        mergeStrategy = _options$mergeStrateg === void 0 ? function (entityA, entityB) {\n      return _extends({}, entityA, entityB);\n    } : _options$mergeStrateg,\n        _options$processStrat = _options.processStrategy,\n        processStrategy = _options$processStrat === void 0 ? function (input) {\n      return _extends({}, input);\n    } : _options$processStrat,\n        _options$fallbackStra = _options.fallbackStrategy,\n        fallbackStrategy = _options$fallbackStra === void 0 ? function (key, schema) {\n      return undefined;\n    } : _options$fallbackStra;\n    this._key = key;\n    this._getId = typeof idAttribute === 'function' ? idAttribute : getDefaultGetId(idAttribute);\n    this._idAttribute = idAttribute;\n    this._mergeStrategy = mergeStrategy;\n    this._processStrategy = processStrategy;\n    this._fallbackStrategy = fallbackStrategy;\n    this.define(definition);\n  }\n\n  var _proto = EntitySchema.prototype;\n\n  _proto.define = function define(definition) {\n    this.schema = Object.keys(definition).reduce(function (entitySchema, key) {\n      var _extends2;\n\n      var schema = definition[key];\n      return _extends({}, entitySchema, (_extends2 = {}, _extends2[key] = schema, _extends2));\n    }, this.schema || {});\n  };\n\n  _proto.getId = function getId(input, parent, key) {\n    return this._getId(input, parent, key);\n  };\n\n  _proto.merge = function merge(entityA, entityB) {\n    return this._mergeStrategy(entityA, entityB);\n  };\n\n  _proto.fallback = function fallback(id, schema) {\n    return this._fallbackStrategy(id, schema);\n  };\n\n  _proto.normalize = function normalize(input, parent, key, visit, addEntity, visitedEntities) {\n    var _this = this;\n\n    var id = this.getId(input, parent, key);\n    var entityType = this.key;\n\n    if (!(entityType in visitedEntities)) {\n      visitedEntities[entityType] = {};\n    }\n\n    if (!(id in visitedEntities[entityType])) {\n      visitedEntities[entityType][id] = [];\n    }\n\n    if (visitedEntities[entityType][id].some(function (entity) {\n      return entity === input;\n    })) {\n      return id;\n    }\n\n    visitedEntities[entityType][id].push(input);\n\n    var processedEntity = this._processStrategy(input, parent, key);\n\n    Object.keys(this.schema).forEach(function (key) {\n      if (processedEntity.hasOwnProperty(key) && typeof processedEntity[key] === 'object') {\n        var schema = _this.schema[key];\n        var resolvedSchema = typeof schema === 'function' ? schema(input) : schema;\n        processedEntity[key] = visit(processedEntity[key], processedEntity, key, resolvedSchema, addEntity, visitedEntities);\n      }\n    });\n    addEntity(this, processedEntity, input, parent, key);\n    return id;\n  };\n\n  _proto.denormalize = function denormalize(entity, unvisit) {\n    var _this2 = this;\n\n    if (isImmutable(entity)) {\n      return denormalizeImmutable(this.schema, entity, unvisit);\n    }\n\n    Object.keys(this.schema).forEach(function (key) {\n      if (entity.hasOwnProperty(key)) {\n        var schema = _this2.schema[key];\n        entity[key] = unvisit(entity[key], schema);\n      }\n    });\n    return entity;\n  };\n\n  _createClass(EntitySchema, [{\n    key: \"key\",\n    get: function get() {\n      return this._key;\n    }\n  }, {\n    key: \"idAttribute\",\n    get: function get() {\n      return this._idAttribute;\n    }\n  }]);\n\n  return EntitySchema;\n}();\n\nvar PolymorphicSchema = /*#__PURE__*/function () {\n  function PolymorphicSchema(definition, schemaAttribute) {\n    if (schemaAttribute) {\n      this._schemaAttribute = typeof schemaAttribute === 'string' ? function (input) {\n        return input[schemaAttribute];\n      } : schemaAttribute;\n    }\n\n    this.define(definition);\n  }\n\n  var _proto = PolymorphicSchema.prototype;\n\n  _proto.define = function define(definition) {\n    this.schema = definition;\n  };\n\n  _proto.getSchemaAttribute = function getSchemaAttribute(input, parent, key) {\n    return !this.isSingleSchema && this._schemaAttribute(input, parent, key);\n  };\n\n  _proto.inferSchema = function inferSchema(input, parent, key) {\n    if (this.isSingleSchema) {\n      return this.schema;\n    }\n\n    var attr = this.getSchemaAttribute(input, parent, key);\n    return this.schema[attr];\n  };\n\n  _proto.normalizeValue = function normalizeValue(value, parent, key, visit, addEntity, visitedEntities) {\n    var schema = this.inferSchema(value, parent, key);\n\n    if (!schema) {\n      return value;\n    }\n\n    var normalizedValue = visit(value, parent, key, schema, addEntity, visitedEntities);\n    return this.isSingleSchema || normalizedValue === undefined || normalizedValue === null ? normalizedValue : {\n      id: normalizedValue,\n      schema: this.getSchemaAttribute(value, parent, key)\n    };\n  };\n\n  _proto.denormalizeValue = function denormalizeValue(value, unvisit) {\n    var schemaKey = isImmutable(value) ? value.get('schema') : value.schema;\n\n    if (!this.isSingleSchema && !schemaKey) {\n      return value;\n    }\n\n    var id = this.isSingleSchema ? undefined : isImmutable(value) ? value.get('id') : value.id;\n    var schema = this.isSingleSchema ? this.schema : this.schema[schemaKey];\n    return unvisit(id || value, schema);\n  };\n\n  _createClass(PolymorphicSchema, [{\n    key: \"isSingleSchema\",\n    get: function get() {\n      return !this._schemaAttribute;\n    }\n  }]);\n\n  return PolymorphicSchema;\n}();\n\nvar UnionSchema = /*#__PURE__*/function (_PolymorphicSchema) {\n  _inheritsLoose(UnionSchema, _PolymorphicSchema);\n\n  function UnionSchema(definition, schemaAttribute) {\n    if (!schemaAttribute) {\n      throw new Error('Expected option \"schemaAttribute\" not found on UnionSchema.');\n    }\n\n    return _PolymorphicSchema.call(this, definition, schemaAttribute) || this;\n  }\n\n  var _proto = UnionSchema.prototype;\n\n  _proto.normalize = function normalize(input, parent, key, visit, addEntity, visitedEntities) {\n    return this.normalizeValue(input, parent, key, visit, addEntity, visitedEntities);\n  };\n\n  _proto.denormalize = function denormalize(input, unvisit) {\n    return this.denormalizeValue(input, unvisit);\n  };\n\n  return UnionSchema;\n}(PolymorphicSchema);\n\nvar ValuesSchema = /*#__PURE__*/function (_PolymorphicSchema) {\n  _inheritsLoose(ValuesSchema, _PolymorphicSchema);\n\n  function ValuesSchema() {\n    return _PolymorphicSchema.apply(this, arguments) || this;\n  }\n\n  var _proto = ValuesSchema.prototype;\n\n  _proto.normalize = function normalize(input, parent, key, visit, addEntity, visitedEntities) {\n    var _this = this;\n\n    return Object.keys(input).reduce(function (output, key, index) {\n      var _extends2;\n\n      var value = input[key];\n      return value !== undefined && value !== null ? _extends({}, output, (_extends2 = {}, _extends2[key] = _this.normalizeValue(value, input, key, visit, addEntity, visitedEntities), _extends2)) : output;\n    }, {});\n  };\n\n  _proto.denormalize = function denormalize(input, unvisit) {\n    var _this2 = this;\n\n    return Object.keys(input).reduce(function (output, key) {\n      var _extends3;\n\n      var entityOrId = input[key];\n      return _extends({}, output, (_extends3 = {}, _extends3[key] = _this2.denormalizeValue(entityOrId, unvisit), _extends3));\n    }, {});\n  };\n\n  return ValuesSchema;\n}(PolymorphicSchema);\n\nvar validateSchema = function validateSchema(definition) {\n  var isArray = Array.isArray(definition);\n\n  if (isArray && definition.length > 1) {\n    throw new Error(\"Expected schema definition to be a single schema, but found \" + definition.length + \".\");\n  }\n\n  return definition[0];\n};\n\nvar getValues = function getValues(input) {\n  return Array.isArray(input) ? input : Object.keys(input).map(function (key) {\n    return input[key];\n  });\n};\n\nvar normalize = function normalize(schema, input, parent, key, visit, addEntity, visitedEntities) {\n  schema = validateSchema(schema);\n  var values = getValues(input); // Special case: Arrays pass *their* parent on to their children, since there\n  // is not any special information that can be gathered from themselves directly\n\n  return values.map(function (value, index) {\n    return visit(value, parent, key, schema, addEntity, visitedEntities);\n  });\n};\nvar denormalize = function denormalize(schema, input, unvisit) {\n  schema = validateSchema(schema);\n  return input && input.map ? input.map(function (entityOrId) {\n    return unvisit(entityOrId, schema);\n  }) : input;\n};\n\nvar ArraySchema = /*#__PURE__*/function (_PolymorphicSchema) {\n  _inheritsLoose(ArraySchema, _PolymorphicSchema);\n\n  function ArraySchema() {\n    return _PolymorphicSchema.apply(this, arguments) || this;\n  }\n\n  var _proto = ArraySchema.prototype;\n\n  _proto.normalize = function normalize(input, parent, key, visit, addEntity, visitedEntities) {\n    var _this = this;\n\n    var values = getValues(input);\n    return values.map(function (value, index) {\n      return _this.normalizeValue(value, parent, key, visit, addEntity, visitedEntities);\n    }).filter(function (value) {\n      return value !== undefined && value !== null;\n    });\n  };\n\n  _proto.denormalize = function denormalize(input, unvisit) {\n    var _this2 = this;\n\n    return input && input.map ? input.map(function (value) {\n      return _this2.denormalizeValue(value, unvisit);\n    }) : input;\n  };\n\n  return ArraySchema;\n}(PolymorphicSchema);\n\nvar _normalize = function normalize(schema, input, parent, key, visit, addEntity, visitedEntities) {\n  var object = _extends({}, input);\n\n  Object.keys(schema).forEach(function (key) {\n    var localSchema = schema[key];\n    var resolvedLocalSchema = typeof localSchema === 'function' ? localSchema(input) : localSchema;\n    var value = visit(input[key], input, key, resolvedLocalSchema, addEntity, visitedEntities);\n\n    if (value === undefined || value === null) {\n      delete object[key];\n    } else {\n      object[key] = value;\n    }\n  });\n  return object;\n};\n\nvar _denormalize = function denormalize(schema, input, unvisit) {\n  if (isImmutable(input)) {\n    return denormalizeImmutable(schema, input, unvisit);\n  }\n\n  var object = _extends({}, input);\n\n  Object.keys(schema).forEach(function (key) {\n    if (object[key] != null) {\n      object[key] = unvisit(object[key], schema[key]);\n    }\n  });\n  return object;\n};\n\nvar ObjectSchema = /*#__PURE__*/function () {\n  function ObjectSchema(definition) {\n    this.define(definition);\n  }\n\n  var _proto = ObjectSchema.prototype;\n\n  _proto.define = function define(definition) {\n    this.schema = Object.keys(definition).reduce(function (entitySchema, key) {\n      var _extends2;\n\n      var schema = definition[key];\n      return _extends({}, entitySchema, (_extends2 = {}, _extends2[key] = schema, _extends2));\n    }, this.schema || {});\n  };\n\n  _proto.normalize = function normalize() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _normalize.apply(void 0, [this.schema].concat(args));\n  };\n\n  _proto.denormalize = function denormalize() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _denormalize.apply(void 0, [this.schema].concat(args));\n  };\n\n  return ObjectSchema;\n}();\n\nvar visit = function visit(value, parent, key, schema, addEntity, visitedEntities) {\n  if (typeof value !== 'object' || !value) {\n    return value;\n  }\n\n  if (typeof schema === 'object' && (!schema.normalize || typeof schema.normalize !== 'function')) {\n    var method = Array.isArray(schema) ? normalize : _normalize;\n    return method(schema, value, parent, key, visit, addEntity, visitedEntities);\n  }\n\n  return schema.normalize(value, parent, key, visit, addEntity, visitedEntities);\n};\n\nvar addEntities = function addEntities(entities) {\n  return function (schema, processedEntity, value, parent, key) {\n    var schemaKey = schema.key;\n    var id = schema.getId(value, parent, key);\n\n    if (!(schemaKey in entities)) {\n      entities[schemaKey] = {};\n    }\n\n    var existingEntity = entities[schemaKey][id];\n\n    if (existingEntity) {\n      entities[schemaKey][id] = schema.merge(existingEntity, processedEntity);\n    } else {\n      entities[schemaKey][id] = processedEntity;\n    }\n  };\n};\n\nvar schema = {\n  Array: ArraySchema,\n  Entity: EntitySchema,\n  Object: ObjectSchema,\n  Union: UnionSchema,\n  Values: ValuesSchema\n};\nvar normalize$1 = function normalize(input, schema) {\n  if (!input || typeof input !== 'object') {\n    throw new Error(\"Unexpected input given to normalize. Expected type to be \\\"object\\\", found \\\"\" + (input === null ? 'null' : typeof input) + \"\\\".\");\n  }\n\n  var entities = {};\n  var addEntity = addEntities(entities);\n  var visitedEntities = {};\n  var result = visit(input, input, null, schema, addEntity, visitedEntities);\n  return {\n    entities: entities,\n    result: result\n  };\n};\n\nvar unvisitEntity = function unvisitEntity(id, schema, unvisit, getEntity, cache) {\n  var entity = getEntity(id, schema);\n\n  if (entity === undefined && schema instanceof EntitySchema) {\n    entity = schema.fallback(id, schema);\n  }\n\n  if (typeof entity !== 'object' || entity === null) {\n    return entity;\n  }\n\n  if (!cache[schema.key]) {\n    cache[schema.key] = {};\n  }\n\n  if (!cache[schema.key][id]) {\n    // Ensure we don't mutate it non-immutable objects\n    var entityCopy = isImmutable(entity) ? entity : _extends({}, entity); // Need to set this first so that if it is referenced further within the\n    // denormalization the reference will already exist.\n\n    cache[schema.key][id] = entityCopy;\n    cache[schema.key][id] = schema.denormalize(entityCopy, unvisit);\n  }\n\n  return cache[schema.key][id];\n};\n\nvar getUnvisit = function getUnvisit(entities) {\n  var cache = {};\n  var getEntity = getEntities(entities);\n  return function unvisit(input, schema) {\n    if (typeof schema === 'object' && (!schema.denormalize || typeof schema.denormalize !== 'function')) {\n      var method = Array.isArray(schema) ? denormalize : _denormalize;\n      return method(schema, input, unvisit);\n    }\n\n    if (input === undefined || input === null) {\n      return input;\n    }\n\n    if (schema instanceof EntitySchema) {\n      return unvisitEntity(input, schema, unvisit, getEntity, cache);\n    }\n\n    return schema.denormalize(input, unvisit);\n  };\n};\n\nvar getEntities = function getEntities(entities) {\n  var isImmutable$1 = isImmutable(entities);\n  return function (entityOrId, schema) {\n    var schemaKey = schema.key;\n\n    if (typeof entityOrId === 'object') {\n      return entityOrId;\n    }\n\n    if (isImmutable$1) {\n      return entities.getIn([schemaKey, entityOrId.toString()]);\n    }\n\n    return entities[schemaKey] && entities[schemaKey][entityOrId];\n  };\n};\n\nvar denormalize$1 = function denormalize(input, schema, entities) {\n  if (typeof input !== 'undefined') {\n    return getUnvisit(entities)(input, schema);\n  }\n};\n\nexport { denormalize$1 as denormalize, normalize$1 as normalize, schema };\n","const errors = {\n\t0: \"Illegal state\",\n\t1: \"Immer drafts cannot have computed properties\",\n\t2: \"This object has been frozen and should not be mutated\",\n\t3(data: any) {\n\t\treturn (\n\t\t\t\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" +\n\t\t\tdata\n\t\t)\n\t},\n\t4: \"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n\t5: \"Immer forbids circular references\",\n\t6: \"The first or second argument to `produce` must be a function\",\n\t7: \"The third argument to `produce` must be a function or undefined\",\n\t8: \"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n\t9: \"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n\t10: \"The given draft is already finalized\",\n\t11: \"Object.defineProperty() cannot be used on an Immer draft\",\n\t12: \"Object.setPrototypeOf() cannot be used on an Immer draft\",\n\t13: \"Immer only supports deleting array indices\",\n\t14: \"Immer only supports setting array indices and the 'length' property\",\n\t15(path: string) {\n\t\treturn \"Cannot apply patch, path doesn't resolve: \" + path\n\t},\n\t16: 'Sets cannot have \"replace\" patches.',\n\t17(op: string) {\n\t\treturn \"Unsupported patch operation: \" + op\n\t},\n\t18(plugin: string) {\n\t\treturn `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \\`enable${plugin}()\\` when initializing your application.`\n\t},\n\t20: \"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",\n\t21(thing: string) {\n\t\treturn `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`\n\t},\n\t22(thing: string) {\n\t\treturn `'current' expects a draft, got: ${thing}`\n\t},\n\t23(thing: string) {\n\t\treturn `'original' expects a draft, got: ${thing}`\n\t},\n\t24: \"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"\n} as const\n\nexport function die(error: keyof typeof errors, ...args: any[]): never {\n\tif (__DEV__) {\n\t\tconst e = errors[error]\n\t\tconst msg = !e\n\t\t\t? \"unknown error nr: \" + error\n\t\t\t: typeof e === \"function\"\n\t\t\t? e.apply(null, args as any)\n\t\t\t: e\n\t\tthrow new Error(`[Immer] ${msg}`)\n\t}\n\tthrow new Error(\n\t\t`[Immer] minified error nr: ${error}${\n\t\t\targs.length ? \" \" + args.map(s => `'${s}'`).join(\",\") : \"\"\n\t\t}. Find the full error at: https://bit.ly/3cXEKWf`\n\t)\n}\n","import {\n\tDRAFT_STATE,\n\tDRAFTABLE,\n\thasSet,\n\tObjectish,\n\tDrafted,\n\tAnyObject,\n\tAnyMap,\n\tAnySet,\n\tImmerState,\n\thasMap,\n\tArchtypeObject,\n\tArchtypeArray,\n\tArchtypeMap,\n\tArchtypeSet,\n\tdie\n} from \"../internal\"\n\n/** Returns true if the given value is an Immer draft */\n/*#__PURE__*/\nexport function isDraft(value: any): boolean {\n\treturn !!value && !!value[DRAFT_STATE]\n}\n\n/** Returns true if the given value can be drafted by Immer */\n/*#__PURE__*/\nexport function isDraftable(value: any): boolean {\n\tif (!value) return false\n\treturn (\n\t\tisPlainObject(value) ||\n\t\tArray.isArray(value) ||\n\t\t!!value[DRAFTABLE] ||\n\t\t!!value.constructor[DRAFTABLE] ||\n\t\tisMap(value) ||\n\t\tisSet(value)\n\t)\n}\n\nconst objectCtorString = Object.prototype.constructor.toString()\n/*#__PURE__*/\nexport function isPlainObject(value: any): boolean {\n\tif (!value || typeof value !== \"object\") return false\n\tconst proto = Object.getPrototypeOf(value)\n\tif (proto === null) {\n\t\treturn true\n\t}\n\tconst Ctor =\n\t\tObject.hasOwnProperty.call(proto, \"constructor\") && proto.constructor\n\treturn (\n\t\ttypeof Ctor == \"function\" &&\n\t\tFunction.toString.call(Ctor) === objectCtorString\n\t)\n}\n\n/** Get the underlying object that is represented by the given draft */\n/*#__PURE__*/\nexport function original<T>(value: T): T | undefined\nexport function original(value: Drafted<any>): any {\n\tif (!isDraft(value)) die(23, value)\n\treturn value[DRAFT_STATE].base_\n}\n\n/*#__PURE__*/\nexport const ownKeys: (target: AnyObject) => PropertyKey[] =\n\ttypeof Reflect !== \"undefined\" && Reflect.ownKeys\n\t\t? Reflect.ownKeys\n\t\t: typeof Object.getOwnPropertySymbols !== \"undefined\"\n\t\t? obj =>\n\t\t\t\tObject.getOwnPropertyNames(obj).concat(\n\t\t\t\t\tObject.getOwnPropertySymbols(obj) as any\n\t\t\t\t)\n\t\t: /* istanbul ignore next */ Object.getOwnPropertyNames\n\nexport const getOwnPropertyDescriptors =\n\tObject.getOwnPropertyDescriptors ||\n\tfunction getOwnPropertyDescriptors(target: any) {\n\t\t// Polyfill needed for Hermes and IE, see https://github.com/facebook/hermes/issues/274\n\t\tconst res: any = {}\n\t\townKeys(target).forEach(key => {\n\t\t\tres[key] = Object.getOwnPropertyDescriptor(target, key)\n\t\t})\n\t\treturn res\n\t}\n\nexport function each<T extends Objectish>(\n\tobj: T,\n\titer: (key: string | number, value: any, source: T) => void,\n\tenumerableOnly?: boolean\n): void\nexport function each(obj: any, iter: any, enumerableOnly = false) {\n\tif (getArchtype(obj) === ArchtypeObject) {\n\t\t;(enumerableOnly ? Object.keys : ownKeys)(obj).forEach(key => {\n\t\t\tif (!enumerableOnly || typeof key !== \"symbol\") iter(key, obj[key], obj)\n\t\t})\n\t} else {\n\t\tobj.forEach((entry: any, index: any) => iter(index, entry, obj))\n\t}\n}\n\n/*#__PURE__*/\nexport function getArchtype(thing: any): 0 | 1 | 2 | 3 {\n\t/* istanbul ignore next */\n\tconst state: undefined | ImmerState = thing[DRAFT_STATE]\n\treturn state\n\t\t? state.type_ > 3\n\t\t\t? state.type_ - 4 // cause Object and Array map back from 4 and 5\n\t\t\t: (state.type_ as any) // others are the same\n\t\t: Array.isArray(thing)\n\t\t? ArchtypeArray\n\t\t: isMap(thing)\n\t\t? ArchtypeMap\n\t\t: isSet(thing)\n\t\t? ArchtypeSet\n\t\t: ArchtypeObject\n}\n\n/*#__PURE__*/\nexport function has(thing: any, prop: PropertyKey): boolean {\n\treturn getArchtype(thing) === ArchtypeMap\n\t\t? thing.has(prop)\n\t\t: Object.prototype.hasOwnProperty.call(thing, prop)\n}\n\n/*#__PURE__*/\nexport function get(thing: AnyMap | AnyObject, prop: PropertyKey): any {\n\t// @ts-ignore\n\treturn getArchtype(thing) === ArchtypeMap ? thing.get(prop) : thing[prop]\n}\n\n/*#__PURE__*/\nexport function set(thing: any, propOrOldValue: PropertyKey, value: any) {\n\tconst t = getArchtype(thing)\n\tif (t === ArchtypeMap) thing.set(propOrOldValue, value)\n\telse if (t === ArchtypeSet) {\n\t\tthing.delete(propOrOldValue)\n\t\tthing.add(value)\n\t} else thing[propOrOldValue] = value\n}\n\n/*#__PURE__*/\nexport function is(x: any, y: any): boolean {\n\t// From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n\tif (x === y) {\n\t\treturn x !== 0 || 1 / x === 1 / y\n\t} else {\n\t\treturn x !== x && y !== y\n\t}\n}\n\n/*#__PURE__*/\nexport function isMap(target: any): target is AnyMap {\n\treturn hasMap && target instanceof Map\n}\n\n/*#__PURE__*/\nexport function isSet(target: any): target is AnySet {\n\treturn hasSet && target instanceof Set\n}\n/*#__PURE__*/\nexport function latest(state: ImmerState): any {\n\treturn state.copy_ || state.base_\n}\n\n/*#__PURE__*/\nexport function shallowCopy(base: any) {\n\tif (Array.isArray(base)) return Array.prototype.slice.call(base)\n\tconst descriptors = getOwnPropertyDescriptors(base)\n\tdelete descriptors[DRAFT_STATE as any]\n\tlet keys = ownKeys(descriptors)\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tconst key: any = keys[i]\n\t\tconst desc = descriptors[key]\n\t\tif (desc.writable === false) {\n\t\t\tdesc.writable = true\n\t\t\tdesc.configurable = true\n\t\t}\n\t\t// like object.assign, we will read any _own_, get/set accessors. This helps in dealing\n\t\t// with libraries that trap values, like mobx or vue\n\t\t// unlike object.assign, non-enumerables will be copied as well\n\t\tif (desc.get || desc.set)\n\t\t\tdescriptors[key] = {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true, // could live with !!desc.set as well here...\n\t\t\t\tenumerable: desc.enumerable,\n\t\t\t\tvalue: base[key]\n\t\t\t}\n\t}\n\treturn Object.create(Object.getPrototypeOf(base), descriptors)\n}\n\n/**\n * Freezes draftable objects. Returns the original object.\n * By default freezes shallowly, but if the second argument is `true` it will freeze recursively.\n *\n * @param obj\n * @param deep\n */\nexport function freeze<T>(obj: T, deep?: boolean): T\nexport function freeze<T>(obj: any, deep: boolean = false): T {\n\tif (isFrozen(obj) || isDraft(obj) || !isDraftable(obj)) return obj\n\tif (getArchtype(obj) > 1 /* Map or Set */) {\n\t\tobj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections as any\n\t}\n\tObject.freeze(obj)\n\tif (deep) each(obj, (key, value) => freeze(value, true), true)\n\treturn obj\n}\n\nfunction dontMutateFrozenCollections() {\n\tdie(2)\n}\n\nexport function isFrozen(obj: any): boolean {\n\tif (obj == null || typeof obj !== \"object\") return true\n\t// See #600, IE dies on non-objects in Object.isFrozen\n\treturn Object.isFrozen(obj)\n}\n","import {\n\tSetState,\n\tImmerScope,\n\tProxyObjectState,\n\tProxyArrayState,\n\tES5ObjectState,\n\tES5ArrayState,\n\tMapState,\n\tDRAFT_STATE\n} from \"../internal\"\n\nexport type Objectish = AnyObject | AnyArray | AnyMap | AnySet\nexport type ObjectishNoSet = AnyObject | AnyArray | AnyMap\n\nexport type AnyObject = {[key: string]: any}\nexport type AnyArray = Array<any>\nexport type AnySet = Set<any>\nexport type AnyMap = Map<any, any>\n\nexport const ArchtypeObject = 0\nexport const ArchtypeArray = 1\nexport const ArchtypeMap = 2\nexport const ArchtypeSet = 3\n\nexport const ProxyTypeProxyObject = 0\nexport const ProxyTypeProxyArray = 1\nexport const ProxyTypeES5Object = 4\nexport const ProxyTypeES5Array = 5\nexport const ProxyTypeMap = 2\nexport const ProxyTypeSet = 3\n\nexport interface ImmerBaseState {\n\tparent_?: ImmerState\n\tscope_: ImmerScope\n\tmodified_: boolean\n\tfinalized_: boolean\n\tisManual_: boolean\n}\n\nexport type ImmerState =\n\t| ProxyObjectState\n\t| ProxyArrayState\n\t| ES5ObjectState\n\t| ES5ArrayState\n\t| MapState\n\t| SetState\n\n// The _internal_ type used for drafts (not to be confused with Draft, which is public facing)\nexport type Drafted<Base = any, T extends ImmerState = ImmerState> = {\n\t[DRAFT_STATE]: T\n} & Base\n","import {\n\tImmerState,\n\tPatch,\n\tImmerScope,\n\tDrafted,\n\tAnyObject,\n\tImmerBaseState,\n\tAnyMap,\n\tAnySet,\n\tProxyTypeES5Array,\n\tProxyTypeES5Object,\n\tProxyTypeMap,\n\tProxyTypeSet,\n\tdie\n} from \"../internal\"\n\n/** Plugin utilities */\nconst plugins: {\n\tPatches?: {\n\t\tgeneratePatches_(\n\t\t\tstate: ImmerState,\n\t\t\tbasePath: PatchPath,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tgenerateReplacementPatches_(\n\t\t\trootState: ImmerState,\n\t\t\treplacement: any,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tapplyPatches_<T>(draft: T, patches: Patch[]): T\n\t}\n\tES5?: {\n\t\twillFinalizeES5_(scope: ImmerScope, result: any, isReplaced: boolean): void\n\t\tcreateES5Proxy_<T>(\n\t\t\tbase: T,\n\t\t\tparent?: ImmerState\n\t\t): Drafted<T, ES5ObjectState | ES5ArrayState>\n\t\thasChanges_(state: ES5ArrayState | ES5ObjectState): boolean\n\t}\n\tMapSet?: {\n\t\tproxyMap_<T extends AnyMap>(target: T, parent?: ImmerState): T\n\t\tproxySet_<T extends AnySet>(target: T, parent?: ImmerState): T\n\t}\n} = {}\n\ntype Plugins = typeof plugins\n\nexport function getPlugin<K extends keyof Plugins>(\n\tpluginKey: K\n): Exclude<Plugins[K], undefined> {\n\tconst plugin = plugins[pluginKey]\n\tif (!plugin) {\n\t\tdie(18, pluginKey)\n\t}\n\t// @ts-ignore\n\treturn plugin\n}\n\nexport function loadPlugin<K extends keyof Plugins>(\n\tpluginKey: K,\n\timplementation: Plugins[K]\n): void {\n\tif (!plugins[pluginKey]) plugins[pluginKey] = implementation\n}\n\n/** ES5 Plugin */\n\ninterface ES5BaseState extends ImmerBaseState {\n\tassigned_: {[key: string]: any}\n\tparent_?: ImmerState\n\trevoked_: boolean\n}\n\nexport interface ES5ObjectState extends ES5BaseState {\n\ttype_: typeof ProxyTypeES5Object\n\tdraft_: Drafted<AnyObject, ES5ObjectState>\n\tbase_: AnyObject\n\tcopy_: AnyObject | null\n}\n\nexport interface ES5ArrayState extends ES5BaseState {\n\ttype_: typeof ProxyTypeES5Array\n\tdraft_: Drafted<AnyObject, ES5ArrayState>\n\tbase_: any\n\tcopy_: any\n}\n\n/** Map / Set plugin */\n\nexport interface MapState extends ImmerBaseState {\n\ttype_: typeof ProxyTypeMap\n\tcopy_: AnyMap | undefined\n\tassigned_: Map<any, boolean> | undefined\n\tbase_: AnyMap\n\trevoked_: boolean\n\tdraft_: Drafted<AnyMap, MapState>\n}\n\nexport interface SetState extends ImmerBaseState {\n\ttype_: typeof ProxyTypeSet\n\tcopy_: AnySet | undefined\n\tbase_: AnySet\n\tdrafts_: Map<any, Drafted> // maps the original value to the draft value in the new set\n\trevoked_: boolean\n\tdraft_: Drafted<AnySet, SetState>\n}\n\n/** Patches plugin */\n\nexport type PatchPath = (string | number)[]\n","import {\n\tPatch,\n\tPatchListener,\n\tDrafted,\n\tImmer,\n\tDRAFT_STATE,\n\tImmerState,\n\tProxyTypeProxyObject,\n\tProxyTypeProxyArray,\n\tgetPlugin\n} from \"../internal\"\nimport {die} from \"../utils/errors\"\n\n/** Each scope represents a `produce` call. */\n\nexport interface ImmerScope {\n\tpatches_?: Patch[]\n\tinversePatches_?: Patch[]\n\tcanAutoFreeze_: boolean\n\tdrafts_: any[]\n\tparent_?: ImmerScope\n\tpatchListener_?: PatchListener\n\timmer_: Immer\n\tunfinalizedDrafts_: number\n}\n\nlet currentScope: ImmerScope | undefined\n\nexport function getCurrentScope() {\n\tif (__DEV__ && !currentScope) die(0)\n\treturn currentScope!\n}\n\nfunction createScope(\n\tparent_: ImmerScope | undefined,\n\timmer_: Immer\n): ImmerScope {\n\treturn {\n\t\tdrafts_: [],\n\t\tparent_,\n\t\timmer_,\n\t\t// Whenever the modified draft contains a draft from another scope, we\n\t\t// need to prevent auto-freezing so the unowned draft can be finalized.\n\t\tcanAutoFreeze_: true,\n\t\tunfinalizedDrafts_: 0\n\t}\n}\n\nexport function usePatchesInScope(\n\tscope: ImmerScope,\n\tpatchListener?: PatchListener\n) {\n\tif (patchListener) {\n\t\tgetPlugin(\"Patches\") // assert we have the plugin\n\t\tscope.patches_ = []\n\t\tscope.inversePatches_ = []\n\t\tscope.patchListener_ = patchListener\n\t}\n}\n\nexport function revokeScope(scope: ImmerScope) {\n\tleaveScope(scope)\n\tscope.drafts_.forEach(revokeDraft)\n\t// @ts-ignore\n\tscope.drafts_ = null\n}\n\nexport function leaveScope(scope: ImmerScope) {\n\tif (scope === currentScope) {\n\t\tcurrentScope = scope.parent_\n\t}\n}\n\nexport function enterScope(immer: Immer) {\n\treturn (currentScope = createScope(currentScope, immer))\n}\n\nfunction revokeDraft(draft: Drafted) {\n\tconst state: ImmerState = draft[DRAFT_STATE]\n\tif (\n\t\tstate.type_ === ProxyTypeProxyObject ||\n\t\tstate.type_ === ProxyTypeProxyArray\n\t)\n\t\tstate.revoke_()\n\telse state.revoked_ = true\n}\n","import {\n\tImmerScope,\n\tDRAFT_STATE,\n\tisDraftable,\n\tNOTHING,\n\tPatchPath,\n\teach,\n\thas,\n\tfreeze,\n\tImmerState,\n\tisDraft,\n\tSetState,\n\tset,\n\tProxyTypeES5Object,\n\tProxyTypeES5Array,\n\tProxyTypeSet,\n\tgetPlugin,\n\tdie,\n\trevokeScope,\n\tisFrozen,\n\tshallowCopy\n} from \"../internal\"\n\nexport function processResult(result: any, scope: ImmerScope) {\n\tscope.unfinalizedDrafts_ = scope.drafts_.length\n\tconst baseDraft = scope.drafts_![0]\n\tconst isReplaced = result !== undefined && result !== baseDraft\n\tif (!scope.immer_.useProxies_)\n\t\tgetPlugin(\"ES5\").willFinalizeES5_(scope, result, isReplaced)\n\tif (isReplaced) {\n\t\tif (baseDraft[DRAFT_STATE].modified_) {\n\t\t\trevokeScope(scope)\n\t\t\tdie(4)\n\t\t}\n\t\tif (isDraftable(result)) {\n\t\t\t// Finalize the result in case it contains (or is) a subset of the draft.\n\t\t\tresult = finalize(scope, result)\n\t\t\tif (!scope.parent_) maybeFreeze(scope, result)\n\t\t}\n\t\tif (scope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generateReplacementPatches_(\n\t\t\t\tbaseDraft[DRAFT_STATE],\n\t\t\t\tresult,\n\t\t\t\tscope.patches_,\n\t\t\t\tscope.inversePatches_!\n\t\t\t)\n\t\t}\n\t} else {\n\t\t// Finalize the base draft.\n\t\tresult = finalize(scope, baseDraft, [])\n\t}\n\trevokeScope(scope)\n\tif (scope.patches_) {\n\t\tscope.patchListener_!(scope.patches_, scope.inversePatches_!)\n\t}\n\treturn result !== NOTHING ? result : undefined\n}\n\nfunction finalize(rootScope: ImmerScope, value: any, path?: PatchPath) {\n\t// Don't recurse in tho recursive data structures\n\tif (isFrozen(value)) return value\n\n\tconst state: ImmerState = value[DRAFT_STATE]\n\t// A plain object, might need freezing, might contain drafts\n\tif (!state) {\n\t\teach(\n\t\t\tvalue,\n\t\t\t(key, childValue) =>\n\t\t\t\tfinalizeProperty(rootScope, state, value, key, childValue, path),\n\t\t\ttrue // See #590, don't recurse into non-enumarable of non drafted objects\n\t\t)\n\t\treturn value\n\t}\n\t// Never finalize drafts owned by another scope.\n\tif (state.scope_ !== rootScope) return value\n\t// Unmodified draft, return the (frozen) original\n\tif (!state.modified_) {\n\t\tmaybeFreeze(rootScope, state.base_, true)\n\t\treturn state.base_\n\t}\n\t// Not finalized yet, let's do that now\n\tif (!state.finalized_) {\n\t\tstate.finalized_ = true\n\t\tstate.scope_.unfinalizedDrafts_--\n\t\tconst result =\n\t\t\t// For ES5, create a good copy from the draft first, with added keys and without deleted keys.\n\t\t\tstate.type_ === ProxyTypeES5Object || state.type_ === ProxyTypeES5Array\n\t\t\t\t? (state.copy_ = shallowCopy(state.draft_))\n\t\t\t\t: state.copy_\n\t\t// Finalize all children of the copy\n\t\t// For sets we clone before iterating, otherwise we can get in endless loop due to modifying during iteration, see #628\n\t\t// Although the original test case doesn't seem valid anyway, so if this in the way we can turn the next line\n\t\t// back to each(result, ....)\n\t\teach(\n\t\t\tstate.type_ === ProxyTypeSet ? new Set(result) : result,\n\t\t\t(key, childValue) =>\n\t\t\t\tfinalizeProperty(rootScope, state, result, key, childValue, path)\n\t\t)\n\t\t// everything inside is frozen, we can freeze here\n\t\tmaybeFreeze(rootScope, result, false)\n\t\t// first time finalizing, let's create those patches\n\t\tif (path && rootScope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generatePatches_(\n\t\t\t\tstate,\n\t\t\t\tpath,\n\t\t\t\trootScope.patches_,\n\t\t\t\trootScope.inversePatches_!\n\t\t\t)\n\t\t}\n\t}\n\treturn state.copy_\n}\n\nfunction finalizeProperty(\n\trootScope: ImmerScope,\n\tparentState: undefined | ImmerState,\n\ttargetObject: any,\n\tprop: string | number,\n\tchildValue: any,\n\trootPath?: PatchPath\n) {\n\tif (__DEV__ && childValue === targetObject) die(5)\n\tif (isDraft(childValue)) {\n\t\tconst path =\n\t\t\trootPath &&\n\t\t\tparentState &&\n\t\t\tparentState!.type_ !== ProxyTypeSet && // Set objects are atomic since they have no keys.\n\t\t\t!has((parentState as Exclude<ImmerState, SetState>).assigned_!, prop) // Skip deep patches for assigned keys.\n\t\t\t\t? rootPath!.concat(prop)\n\t\t\t\t: undefined\n\t\t// Drafts owned by `scope` are finalized here.\n\t\tconst res = finalize(rootScope, childValue, path)\n\t\tset(targetObject, prop, res)\n\t\t// Drafts from another scope must prevented to be frozen\n\t\t// if we got a draft back from finalize, we're in a nested produce and shouldn't freeze\n\t\tif (isDraft(res)) {\n\t\t\trootScope.canAutoFreeze_ = false\n\t\t} else return\n\t}\n\t// Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n\tif (isDraftable(childValue) && !isFrozen(childValue)) {\n\t\tif (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n\t\t\t// optimization: if an object is not a draft, and we don't have to\n\t\t\t// deepfreeze everything, and we are sure that no drafts are left in the remaining object\n\t\t\t// cause we saw and finalized all drafts already; we can stop visiting the rest of the tree.\n\t\t\t// This benefits especially adding large data tree's without further processing.\n\t\t\t// See add-data.js perf test\n\t\t\treturn\n\t\t}\n\t\tfinalize(rootScope, childValue)\n\t\t// immer deep freezes plain objects, so if there is no parent state, we freeze as well\n\t\tif (!parentState || !parentState.scope_.parent_)\n\t\t\tmaybeFreeze(rootScope, childValue)\n\t}\n}\n\nfunction maybeFreeze(scope: ImmerScope, value: any, deep = false) {\n\tif (scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n\t\tfreeze(value, deep)\n\t}\n}\n","import {\n\teach,\n\thas,\n\tis,\n\tisDraftable,\n\tshallowCopy,\n\tlatest,\n\tImmerBaseState,\n\tImmerState,\n\tDrafted,\n\tAnyObject,\n\tAnyArray,\n\tObjectish,\n\tgetCurrentScope,\n\tDRAFT_STATE,\n\tdie,\n\tcreateProxy,\n\tProxyTypeProxyObject,\n\tProxyTypeProxyArray\n} from \"../internal\"\n\ninterface ProxyBaseState extends ImmerBaseState {\n\tassigned_: {\n\t\t[property: string]: boolean\n\t}\n\tparent_?: ImmerState\n\trevoke_(): void\n}\n\nexport interface ProxyObjectState extends ProxyBaseState {\n\ttype_: typeof ProxyTypeProxyObject\n\tbase_: any\n\tcopy_: any\n\tdraft_: Drafted<AnyObject, ProxyObjectState>\n}\n\nexport interface ProxyArrayState extends ProxyBaseState {\n\ttype_: typeof ProxyTypeProxyArray\n\tbase_: AnyArray\n\tcopy_: AnyArray | null\n\tdraft_: Drafted<AnyArray, ProxyArrayState>\n}\n\ntype ProxyState = ProxyObjectState | ProxyArrayState\n\n/**\n * Returns a new draft of the `base` object.\n *\n * The second argument is the parent draft-state (used internally).\n */\nexport function createProxyProxy<T extends Objectish>(\n\tbase: T,\n\tparent?: ImmerState\n): Drafted<T, ProxyState> {\n\tconst isArray = Array.isArray(base)\n\tconst state: ProxyState = {\n\t\ttype_: isArray ? ProxyTypeProxyArray : (ProxyTypeProxyObject as any),\n\t\t// Track which produce call this is associated with.\n\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t// True for both shallow and deep changes.\n\t\tmodified_: false,\n\t\t// Used during finalization.\n\t\tfinalized_: false,\n\t\t// Track which properties have been assigned (true) or deleted (false).\n\t\tassigned_: {},\n\t\t// The parent draft state.\n\t\tparent_: parent,\n\t\t// The base state.\n\t\tbase_: base,\n\t\t// The base proxy.\n\t\tdraft_: null as any, // set below\n\t\t// The base copy with any updated values.\n\t\tcopy_: null,\n\t\t// Called by the `produce` function.\n\t\trevoke_: null as any,\n\t\tisManual_: false\n\t}\n\n\t// the traps must target something, a bit like the 'real' base.\n\t// but also, we need to be able to determine from the target what the relevant state is\n\t// (to avoid creating traps per instance to capture the state in closure,\n\t// and to avoid creating weird hidden properties as well)\n\t// So the trick is to use 'state' as the actual 'target'! (and make sure we intercept everything)\n\t// Note that in the case of an array, we put the state in an array to have better Reflect defaults ootb\n\tlet target: T = state as any\n\tlet traps: ProxyHandler<object | Array<any>> = objectTraps\n\tif (isArray) {\n\t\ttarget = [state] as any\n\t\ttraps = arrayTraps\n\t}\n\n\tconst {revoke, proxy} = Proxy.revocable(target, traps)\n\tstate.draft_ = proxy as any\n\tstate.revoke_ = revoke\n\treturn proxy as any\n}\n\n/**\n * Object drafts\n */\nexport const objectTraps: ProxyHandler<ProxyState> = {\n\tget(state, prop) {\n\t\tif (prop === DRAFT_STATE) return state\n\n\t\tconst source = latest(state)\n\t\tif (!has(source, prop)) {\n\t\t\t// non-existing or non-own property...\n\t\t\treturn readPropFromProto(state, source, prop)\n\t\t}\n\t\tconst value = source[prop]\n\t\tif (state.finalized_ || !isDraftable(value)) {\n\t\t\treturn value\n\t\t}\n\t\t// Check for existing draft in modified state.\n\t\t// Assigned values are never drafted. This catches any drafts we created, too.\n\t\tif (value === peek(state.base_, prop)) {\n\t\t\tprepareCopy(state)\n\t\t\treturn (state.copy_![prop as any] = createProxy(\n\t\t\t\tstate.scope_.immer_,\n\t\t\t\tvalue,\n\t\t\t\tstate\n\t\t\t))\n\t\t}\n\t\treturn value\n\t},\n\thas(state, prop) {\n\t\treturn prop in latest(state)\n\t},\n\townKeys(state) {\n\t\treturn Reflect.ownKeys(latest(state))\n\t},\n\tset(\n\t\tstate: ProxyObjectState,\n\t\tprop: string /* strictly not, but helps TS */,\n\t\tvalue\n\t) {\n\t\tconst desc = getDescriptorFromProto(latest(state), prop)\n\t\tif (desc?.set) {\n\t\t\t// special case: if this write is captured by a setter, we have\n\t\t\t// to trigger it with the correct context\n\t\t\tdesc.set.call(state.draft_, value)\n\t\t\treturn true\n\t\t}\n\t\tif (!state.modified_) {\n\t\t\t// the last check is because we need to be able to distinguish setting a non-existig to undefined (which is a change)\n\t\t\t// from setting an existing property with value undefined to undefined (which is not a change)\n\t\t\tconst current = peek(latest(state), prop)\n\t\t\t// special case, if we assigning the original value to a draft, we can ignore the assignment\n\t\t\tconst currentState: ProxyObjectState = current?.[DRAFT_STATE]\n\t\t\tif (currentState && currentState.base_ === value) {\n\t\t\t\tstate.copy_![prop] = value\n\t\t\t\tstate.assigned_[prop] = false\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tif (is(value, current) && (value !== undefined || has(state.base_, prop)))\n\t\t\t\treturn true\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t}\n\n\t\tif (state.copy_![prop] === value && typeof value !== \"number\") return true\n\n\t\t// @ts-ignore\n\t\tstate.copy_![prop] = value\n\t\tstate.assigned_[prop] = true\n\t\treturn true\n\t},\n\tdeleteProperty(state, prop: string) {\n\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\tif (peek(state.base_, prop) !== undefined || prop in state.base_) {\n\t\t\tstate.assigned_[prop] = false\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t} else {\n\t\t\t// if an originally not assigned property was deleted\n\t\t\tdelete state.assigned_[prop]\n\t\t}\n\t\t// @ts-ignore\n\t\tif (state.copy_) delete state.copy_[prop]\n\t\treturn true\n\t},\n\t// Note: We never coerce `desc.value` into an Immer draft, because we can't make\n\t// the same guarantee in ES5 mode.\n\tgetOwnPropertyDescriptor(state, prop) {\n\t\tconst owner = latest(state)\n\t\tconst desc = Reflect.getOwnPropertyDescriptor(owner, prop)\n\t\tif (!desc) return desc\n\t\treturn {\n\t\t\twritable: true,\n\t\t\tconfigurable: state.type_ !== ProxyTypeProxyArray || prop !== \"length\",\n\t\t\tenumerable: desc.enumerable,\n\t\t\tvalue: owner[prop]\n\t\t}\n\t},\n\tdefineProperty() {\n\t\tdie(11)\n\t},\n\tgetPrototypeOf(state) {\n\t\treturn Object.getPrototypeOf(state.base_)\n\t},\n\tsetPrototypeOf() {\n\t\tdie(12)\n\t}\n}\n\n/**\n * Array drafts\n */\n\nconst arrayTraps: ProxyHandler<[ProxyArrayState]> = {}\neach(objectTraps, (key, fn) => {\n\t// @ts-ignore\n\tarrayTraps[key] = function() {\n\t\targuments[0] = arguments[0][0]\n\t\treturn fn.apply(this, arguments)\n\t}\n})\narrayTraps.deleteProperty = function(state, prop) {\n\tif (__DEV__ && isNaN(parseInt(prop as any))) die(13)\n\treturn objectTraps.deleteProperty!.call(this, state[0], prop)\n}\narrayTraps.set = function(state, prop, value) {\n\tif (__DEV__ && prop !== \"length\" && isNaN(parseInt(prop as any))) die(14)\n\treturn objectTraps.set!.call(this, state[0], prop, value, state[0])\n}\n\n// Access a property without creating an Immer draft.\nfunction peek(draft: Drafted, prop: PropertyKey) {\n\tconst state = draft[DRAFT_STATE]\n\tconst source = state ? latest(state) : draft\n\treturn source[prop]\n}\n\nfunction readPropFromProto(state: ImmerState, source: any, prop: PropertyKey) {\n\tconst desc = getDescriptorFromProto(source, prop)\n\treturn desc\n\t\t? `value` in desc\n\t\t\t? desc.value\n\t\t\t: // This is a very special case, if the prop is a getter defined by the\n\t\t\t  // prototype, we should invoke it with the draft as context!\n\t\t\t  desc.get?.call(state.draft_)\n\t\t: undefined\n}\n\nfunction getDescriptorFromProto(\n\tsource: any,\n\tprop: PropertyKey\n): PropertyDescriptor | undefined {\n\t// 'in' checks proto!\n\tif (!(prop in source)) return undefined\n\tlet proto = Object.getPrototypeOf(source)\n\twhile (proto) {\n\t\tconst desc = Object.getOwnPropertyDescriptor(proto, prop)\n\t\tif (desc) return desc\n\t\tproto = Object.getPrototypeOf(proto)\n\t}\n\treturn undefined\n}\n\nexport function markChanged(state: ImmerState) {\n\tif (!state.modified_) {\n\t\tstate.modified_ = true\n\t\tif (state.parent_) {\n\t\t\tmarkChanged(state.parent_)\n\t\t}\n\t}\n}\n\nexport function prepareCopy(state: {base_: any; copy_: any}) {\n\tif (!state.copy_) {\n\t\tstate.copy_ = shallowCopy(state.base_)\n\t}\n}\n","import {\n\tIProduceWithPatches,\n\tIProduce,\n\tImmerState,\n\tDrafted,\n\tisDraftable,\n\tprocessResult,\n\tPatch,\n\tObjectish,\n\tDRAFT_STATE,\n\tDraft,\n\tPatchListener,\n\tisDraft,\n\tisMap,\n\tisSet,\n\tcreateProxyProxy,\n\tgetPlugin,\n\tdie,\n\thasProxies,\n\tenterScope,\n\trevokeScope,\n\tleaveScope,\n\tusePatchesInScope,\n\tgetCurrentScope,\n\tNOTHING,\n\tfreeze,\n\tcurrent\n} from \"../internal\"\n\ninterface ProducersFns {\n\tproduce: IProduce\n\tproduceWithPatches: IProduceWithPatches\n}\n\nexport class Immer implements ProducersFns {\n\tuseProxies_: boolean = hasProxies\n\n\tautoFreeze_: boolean = true\n\n\tconstructor(config?: {useProxies?: boolean; autoFreeze?: boolean}) {\n\t\tif (typeof config?.useProxies === \"boolean\")\n\t\t\tthis.setUseProxies(config!.useProxies)\n\t\tif (typeof config?.autoFreeze === \"boolean\")\n\t\t\tthis.setAutoFreeze(config!.autoFreeze)\n\t}\n\n\t/**\n\t * The `produce` function takes a value and a \"recipe function\" (whose\n\t * return value often depends on the base state). The recipe function is\n\t * free to mutate its first argument however it wants. All mutations are\n\t * only ever applied to a __copy__ of the base state.\n\t *\n\t * Pass only a function to create a \"curried producer\" which relieves you\n\t * from passing the recipe function every time.\n\t *\n\t * Only plain objects and arrays are made mutable. All other objects are\n\t * considered uncopyable.\n\t *\n\t * Note: This function is __bound__ to its `Immer` instance.\n\t *\n\t * @param {any} base - the initial state\n\t * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n\t * @param {Function} patchListener - optional function that will be called with all the patches produced here\n\t * @returns {any} a new state, or the initial state if nothing was modified\n\t */\n\tproduce: IProduce = (base: any, recipe?: any, patchListener?: any) => {\n\t\t// curried invocation\n\t\tif (typeof base === \"function\" && typeof recipe !== \"function\") {\n\t\t\tconst defaultBase = recipe\n\t\t\trecipe = base\n\n\t\t\tconst self = this\n\t\t\treturn function curriedProduce(\n\t\t\t\tthis: any,\n\t\t\t\tbase = defaultBase,\n\t\t\t\t...args: any[]\n\t\t\t) {\n\t\t\t\treturn self.produce(base, (draft: Drafted) => recipe.call(this, draft, ...args)) // prettier-ignore\n\t\t\t}\n\t\t}\n\n\t\tif (typeof recipe !== \"function\") die(6)\n\t\tif (patchListener !== undefined && typeof patchListener !== \"function\")\n\t\t\tdie(7)\n\n\t\tlet result\n\n\t\t// Only plain objects, arrays, and \"immerable classes\" are drafted.\n\t\tif (isDraftable(base)) {\n\t\t\tconst scope = enterScope(this)\n\t\t\tconst proxy = createProxy(this, base, undefined)\n\t\t\tlet hasError = true\n\t\t\ttry {\n\t\t\t\tresult = recipe(proxy)\n\t\t\t\thasError = false\n\t\t\t} finally {\n\t\t\t\t// finally instead of catch + rethrow better preserves original stack\n\t\t\t\tif (hasError) revokeScope(scope)\n\t\t\t\telse leaveScope(scope)\n\t\t\t}\n\t\t\tif (typeof Promise !== \"undefined\" && result instanceof Promise) {\n\t\t\t\treturn result.then(\n\t\t\t\t\tresult => {\n\t\t\t\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\t\t\t\treturn processResult(result, scope)\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\trevokeScope(scope)\n\t\t\t\t\t\tthrow error\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t}\n\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\treturn processResult(result, scope)\n\t\t} else if (!base || typeof base !== \"object\") {\n\t\t\tresult = recipe(base)\n\t\t\tif (result === NOTHING) return undefined\n\t\t\tif (result === undefined) result = base\n\t\t\tif (this.autoFreeze_) freeze(result, true)\n\t\t\treturn result\n\t\t} else die(21, base)\n\t}\n\n\tproduceWithPatches: IProduceWithPatches = (\n\t\targ1: any,\n\t\targ2?: any,\n\t\targ3?: any\n\t): any => {\n\t\tif (typeof arg1 === \"function\") {\n\t\t\treturn (state: any, ...args: any[]) =>\n\t\t\t\tthis.produceWithPatches(state, (draft: any) => arg1(draft, ...args))\n\t\t}\n\n\t\tlet patches: Patch[], inversePatches: Patch[]\n\t\tconst nextState = this.produce(arg1, arg2, (p: Patch[], ip: Patch[]) => {\n\t\t\tpatches = p\n\t\t\tinversePatches = ip\n\t\t})\n\t\treturn [nextState, patches!, inversePatches!]\n\t}\n\n\tcreateDraft<T extends Objectish>(base: T): Draft<T> {\n\t\tif (!isDraftable(base)) die(8)\n\t\tif (isDraft(base)) base = current(base)\n\t\tconst scope = enterScope(this)\n\t\tconst proxy = createProxy(this, base, undefined)\n\t\tproxy[DRAFT_STATE].isManual_ = true\n\t\tleaveScope(scope)\n\t\treturn proxy as any\n\t}\n\n\tfinishDraft<D extends Draft<any>>(\n\t\tdraft: D,\n\t\tpatchListener?: PatchListener\n\t): D extends Draft<infer T> ? T : never {\n\t\tconst state: ImmerState = draft && (draft as any)[DRAFT_STATE]\n\t\tif (__DEV__) {\n\t\t\tif (!state || !state.isManual_) die(9)\n\t\t\tif (state.finalized_) die(10)\n\t\t}\n\t\tconst {scope_: scope} = state\n\t\tusePatchesInScope(scope, patchListener)\n\t\treturn processResult(undefined, scope)\n\t}\n\n\t/**\n\t * Pass true to automatically freeze all copies created by Immer.\n\t *\n\t * By default, auto-freezing is enabled.\n\t */\n\tsetAutoFreeze(value: boolean) {\n\t\tthis.autoFreeze_ = value\n\t}\n\n\t/**\n\t * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n\t * always faster than using ES5 proxies.\n\t *\n\t * By default, feature detection is used, so calling this is rarely necessary.\n\t */\n\tsetUseProxies(value: boolean) {\n\t\tif (value && !hasProxies) {\n\t\t\tdie(20)\n\t\t}\n\t\tthis.useProxies_ = value\n\t}\n\n\tapplyPatches(base: Objectish, patches: Patch[]) {\n\t\t// If a patch replaces the entire state, take that replacement as base\n\t\t// before applying patches\n\t\tlet i: number\n\t\tfor (i = patches.length - 1; i >= 0; i--) {\n\t\t\tconst patch = patches[i]\n\t\t\tif (patch.path.length === 0 && patch.op === \"replace\") {\n\t\t\t\tbase = patch.value\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\tconst applyPatchesImpl = getPlugin(\"Patches\").applyPatches_\n\t\tif (isDraft(base)) {\n\t\t\t// N.B: never hits if some patch a replacement, patches are never drafts\n\t\t\treturn applyPatchesImpl(base, patches)\n\t\t}\n\t\t// Otherwise, produce a copy of the base state.\n\t\treturn this.produce(base, (draft: Drafted) =>\n\t\t\tapplyPatchesImpl(draft, patches.slice(i + 1))\n\t\t)\n\t}\n}\n\nexport function createProxy<T extends Objectish>(\n\timmer: Immer,\n\tvalue: T,\n\tparent?: ImmerState\n): Drafted<T, ImmerState> {\n\t// precondition: createProxy should be guarded by isDraftable, so we know we can safely draft\n\tconst draft: Drafted = isMap(value)\n\t\t? getPlugin(\"MapSet\").proxyMap_(value, parent)\n\t\t: isSet(value)\n\t\t? getPlugin(\"MapSet\").proxySet_(value, parent)\n\t\t: immer.useProxies_\n\t\t? createProxyProxy(value, parent)\n\t\t: getPlugin(\"ES5\").createES5Proxy_(value, parent)\n\n\tconst scope = parent ? parent.scope_ : getCurrentScope()\n\tscope.drafts_.push(draft)\n\treturn draft\n}\n","import {\n\tdie,\n\tisDraft,\n\tshallowCopy,\n\teach,\n\tDRAFT_STATE,\n\tget,\n\tset,\n\tImmerState,\n\tisDraftable,\n\tArchtypeMap,\n\tArchtypeSet,\n\tgetArchtype,\n\tgetPlugin\n} from \"../internal\"\n\n/** Takes a snapshot of the current state of a draft and finalizes it (but without freezing). This is a great utility to print the current state during debugging (no Proxies in the way). The output of current can also be safely leaked outside the producer. */\nexport function current<T>(value: T): T\nexport function current(value: any): any {\n\tif (!isDraft(value)) die(22, value)\n\treturn currentImpl(value)\n}\n\nfunction currentImpl(value: any): any {\n\tif (!isDraftable(value)) return value\n\tconst state: ImmerState | undefined = value[DRAFT_STATE]\n\tlet copy: any\n\tconst archType = getArchtype(value)\n\tif (state) {\n\t\tif (\n\t\t\t!state.modified_ &&\n\t\t\t(state.type_ < 4 || !getPlugin(\"ES5\").hasChanges_(state as any))\n\t\t)\n\t\t\treturn state.base_\n\t\t// Optimization: avoid generating new drafts during copying\n\t\tstate.finalized_ = true\n\t\tcopy = copyHelper(value, archType)\n\t\tstate.finalized_ = false\n\t} else {\n\t\tcopy = copyHelper(value, archType)\n\t}\n\n\teach(copy, (key, childValue) => {\n\t\tif (state && get(state.base_, key) === childValue) return // no need to copy or search in something that didn't change\n\t\tset(copy, key, currentImpl(childValue))\n\t})\n\t// In the future, we might consider freezing here, based on the current settings\n\treturn archType === ArchtypeSet ? new Set(copy) : copy\n}\n\nfunction copyHelper(value: any, archType: number): any {\n\t// creates a shallow copy, even if it is a map or set\n\tswitch (archType) {\n\t\tcase ArchtypeMap:\n\t\t\treturn new Map(value)\n\t\tcase ArchtypeSet:\n\t\t\t// Set will be cloned as array temporarily, so that we can replace individual items\n\t\t\treturn Array.from(value)\n\t}\n\treturn shallowCopy(value)\n}\n","import {\n\tIProduce,\n\tIProduceWithPatches,\n\tImmer,\n\tDraft,\n\tImmutable\n} from \"./internal\"\n\nexport {\n\tDraft,\n\tImmutable,\n\tPatch,\n\tPatchListener,\n\toriginal,\n\tcurrent,\n\tisDraft,\n\tisDraftable,\n\tNOTHING as nothing,\n\tDRAFTABLE as immerable,\n\tfreeze\n} from \"./internal\"\n\nconst immer = new Immer()\n\n/**\n * The `produce` function takes a value and a \"recipe function\" (whose\n * return value often depends on the base state). The recipe function is\n * free to mutate its first argument however it wants. All mutations are\n * only ever applied to a __copy__ of the base state.\n *\n * Pass only a function to create a \"curried producer\" which relieves you\n * from passing the recipe function every time.\n *\n * Only plain objects and arrays are made mutable. All other objects are\n * considered uncopyable.\n *\n * Note: This function is __bound__ to its `Immer` instance.\n *\n * @param {any} base - the initial state\n * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n * @param {Function} patchListener - optional function that will be called with all the patches produced here\n * @returns {any} a new state, or the initial state if nothing was modified\n */\nexport const produce: IProduce = immer.produce\nexport default produce\n\n/**\n * Like `produce`, but `produceWithPatches` always returns a tuple\n * [nextState, patches, inversePatches] (instead of just the next state)\n */\nexport const produceWithPatches: IProduceWithPatches = immer.produceWithPatches.bind(\n\timmer\n)\n\n/**\n * Pass true to automatically freeze all copies created by Immer.\n *\n * Always freeze by default, even in production mode\n */\nexport const setAutoFreeze = immer.setAutoFreeze.bind(immer)\n\n/**\n * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n * always faster than using ES5 proxies.\n *\n * By default, feature detection is used, so calling this is rarely necessary.\n */\nexport const setUseProxies = immer.setUseProxies.bind(immer)\n\n/**\n * Apply an array of Immer patches to the first argument.\n *\n * This function is a producer, which means copy-on-write is in effect.\n */\nexport const applyPatches = immer.applyPatches.bind(immer)\n\n/**\n * Create an Immer draft from the given base state, which may be a draft itself.\n * The draft can be modified until you finalize it with the `finishDraft` function.\n */\nexport const createDraft = immer.createDraft.bind(immer)\n\n/**\n * Finalize an Immer draft from a `createDraft` call, returning the base state\n * (if no changes were made) or a modified copy. The draft must *not* be\n * mutated afterwards.\n *\n * Pass a function as the 2nd argument to generate Immer patches based on the\n * changes that were made.\n */\nexport const finishDraft = immer.finishDraft.bind(immer)\n\n/**\n * This function is actually a no-op, but can be used to cast an immutable type\n * to an draft type and make TypeScript happy\n *\n * @param value\n */\nexport function castDraft<T>(value: T): Draft<T> {\n\treturn value as any\n}\n\n/**\n * This function is actually a no-op, but can be used to cast a mutable type\n * to an immutable type and make TypeScript happy\n * @param value\n */\nexport function castImmutable<T>(value: T): Immutable<T> {\n\treturn value as any\n}\n\nexport {Immer}\n\nexport {enableES5} from \"./plugins/es5\"\nexport {enablePatches} from \"./plugins/patches\"\nexport {enableMapSet} from \"./plugins/mapset\"\nexport {enableAllPlugins} from \"./plugins/all\"\n","// Should be no imports here!\n\n// Some things that should be evaluated before all else...\n\n// We only want to know if non-polyfilled symbols are available\nconst hasSymbol =\n\ttypeof Symbol !== \"undefined\" && typeof Symbol(\"x\") === \"symbol\"\nexport const hasMap = typeof Map !== \"undefined\"\nexport const hasSet = typeof Set !== \"undefined\"\nexport const hasProxies =\n\ttypeof Proxy !== \"undefined\" &&\n\ttypeof Proxy.revocable !== \"undefined\" &&\n\ttypeof Reflect !== \"undefined\"\n\n/**\n * The sentinel value returned by producers to replace the draft with undefined.\n */\nexport const NOTHING: Nothing = hasSymbol\n\t? Symbol.for(\"immer-nothing\")\n\t: ({[\"immer-nothing\"]: true} as any)\n\n/**\n * To let Immer treat your class instances as plain immutable objects\n * (albeit with a custom prototype), you must define either an instance property\n * or a static property on each of your custom classes.\n *\n * Otherwise, your class instance will never be drafted, which means it won't be\n * safe to mutate in a produce callback.\n */\nexport const DRAFTABLE: unique symbol = hasSymbol\n\t? Symbol.for(\"immer-draftable\")\n\t: (\"__$immer_draftable\" as any)\n\nexport const DRAFT_STATE: unique symbol = hasSymbol\n\t? Symbol.for(\"immer-state\")\n\t: (\"__$immer_state\" as any)\n\n// Even a polyfilled Symbol might provide Symbol.iterator\nexport const iteratorSymbol: typeof Symbol.iterator =\n\t(typeof Symbol != \"undefined\" && Symbol.iterator) || (\"@@iterator\" as any)\n\n/** Use a class type for `nothing` so its type is unique */\nexport class Nothing {\n\t// This lets us do `Exclude<T, Nothing>`\n\t// @ts-ignore\n\tprivate _!: unique symbol\n}\n","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar context = require('effector-react');\nrequire('react');\nrequire('effector');\nvar list$1 = require('../list-98ebb739.js');\n\nfunction _interopNamespace(e) {\n\tif (e && e.__esModule) return e;\n\tvar n = Object.create(null);\n\tif (e) {\n\t\tObject.keys(e).forEach(function (k) {\n\t\t\tif (k !== 'default') {\n\t\t\t\tvar d = Object.getOwnPropertyDescriptor(e, k);\n\t\t\t\tObject.defineProperty(n, k, d.get ? d : {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function () {\n\t\t\t\t\t\treturn e[k];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\tn['default'] = e;\n\treturn Object.freeze(n);\n}\n\nvar context__namespace = /*#__PURE__*/_interopNamespace(context);\n\nvar reflect = list$1.reflectFactory(context__namespace);\nvar createReflect = list$1.reflectCreateFactory(context__namespace);\nvar variant = list$1.variantFactory(context__namespace);\nvar list = list$1.listFactory(context__namespace);\n\nexports.createReflect = createReflect;\nexports.list = list;\nexports.reflect = reflect;\nexports.variant = variant;\n","'use strict';\n\nvar react = require('react');\nvar effector = require('effector');\n\nfunction reflectCreateFactory(context) {\n  var reflect = reflectFactory(context);\n  return function createReflect(view) {\n    return function (bind, params) {\n      return reflect(Object.assign({\n        view: view,\n        bind: bind\n      }, params));\n    };\n  };\n}\nfunction reflectFactory(context) {\n  return function reflect(config) {\n    var events = {};\n    var stores = {};\n    var data = {};\n\n    for (var key in config.bind) {\n      var value = config.bind[key];\n\n      if (effector.is.event(value, {\n        sid: \"gy0afy\"\n      }) || effector.is.effect(value, {\n        sid: \"gy0bwh\"\n      })) {\n        events[key] = value;\n      } else if (effector.is.store(value, {\n        sid: \"id568x\"\n      })) {\n        stores[key] = value;\n      } else {\n        data[key] = value;\n      }\n    }\n\n    var $bind = isEmpty(stores) ? null : effector.combine({\n      É”: [stores],\n      config: {\n        name: \"$bind\",\n        sid: \"-rtakm6\"\n      }\n    });\n    return function (props) {\n      var _a, _b;\n\n      var storeProps = $bind ? context.useStore($bind) : {};\n      var eventsProps = context.useEvent(events);\n      var elementProps = Object.assign({}, storeProps, eventsProps, data, props);\n      var hookMounted = readHook((_a = config.hooks) === null || _a === void 0 ? void 0 : _a.mounted, context);\n      var hookUnmounted = readHook((_b = config.hooks) === null || _b === void 0 ? void 0 : _b.unmounted, context);\n      react.useEffect(function () {\n        if (hookMounted) hookMounted();\n        return function () {\n          if (hookUnmounted) hookUnmounted();\n        };\n      }, []);\n      return /*#__PURE__*/react.createElement(config.view, elementProps);\n    };\n  };\n}\n\nfunction readHook(hook, context) {\n  if (hook) {\n    if (effector.is.event(hook, {\n      sid: \"-93to65\"\n    }) || effector.is.effect(hook, {\n      sid: \"-93tmqh\"\n    })) {\n      return context.useEvent(hook);\n    }\n\n    return hook;\n  }\n}\n\nfunction isEmpty(map) {\n  return Object.keys(map).length === 0;\n}\n\nvar Default = function Default() {\n  return null;\n};\n\nfunction variantFactory(context) {\n  var reflect = reflectFactory(context);\n  return function variant(config) {\n    var _a;\n\n    function View(props) {\n      var _a, _b;\n\n      var nameOfCase = context.useStore(config.source);\n      var Component = (_b = (_a = config.cases[nameOfCase]) !== null && _a !== void 0 ? _a : config[\"default\"]) !== null && _b !== void 0 ? _b : Default;\n      return /*#__PURE__*/react.createElement(Component, props);\n    }\n\n    var bind = (_a = config.bind) !== null && _a !== void 0 ? _a : {};\n    return reflect({\n      bind: bind,\n      view: View,\n      hooks: config.hooks\n    });\n  };\n}\n\nfunction listFactory(context) {\n  var reflect = reflectFactory(context);\n  return function list(config) {\n    var ItemView = reflect({\n      view: config.view,\n      bind: config.bind,\n      hooks: config.hooks\n    });\n    return function () {\n      return context.useList(config.source, {\n        fn: function fn(value, index) {\n          var finalProps = react.useMemo(function () {\n            var props = {\n              // TODO: remove that in favor of `getKey` in useList config\n              // when next effector-react version is released\n              key: config.getKey ? config.getKey(value, index) : index\n            };\n\n            for (var prop in config.mapItem) {\n              if ({}.hasOwnProperty.call(config.mapItem, prop)) {\n                // for some reason TS can't properly infer `prop` type here\n                var fn = config.mapItem[prop];\n                var propValue = fn(value, index);\n                props[prop] = propValue;\n              }\n            }\n\n            return props;\n          }, [value, index]);\n          return /*#__PURE__*/react.createElement(ItemView, finalProps);\n        }\n      });\n    };\n  };\n}\n\nexports.listFactory = listFactory;\nexports.reflectCreateFactory = reflectCreateFactory;\nexports.reflectFactory = reflectFactory;\nexports.variantFactory = variantFactory;\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean, '1.0.0'),\n      forcedJSONParsing: validators.transitional(validators.boolean, '1.0.0'),\n      clarifyTimeoutError: validators.transitional(validators.boolean, '1.0.0')\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('./../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar pkg = require('./../../package.json');\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\nvar currentVerArr = pkg.version.split('.');\n\n/**\n * Compare package versions\n * @param {string} version\n * @param {string?} thanVersion\n * @returns {boolean}\n */\nfunction isOlderVersion(version, thanVersion) {\n  var pkgVersionArr = thanVersion ? thanVersion.split('.') : currentVerArr;\n  var destVer = version.split('.');\n  for (var i = 0; i < 3; i++) {\n    if (pkgVersionArr[i] > destVer[i]) {\n      return true;\n    } else if (pkgVersionArr[i] < destVer[i]) {\n      return false;\n    }\n  }\n  return false;\n}\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator\n * @param {string?} version\n * @param {string} message\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  var isDeprecated = version && isOlderVersion(version);\n\n  function formatMessage(opt, desc) {\n    return '[Axios v' + pkg.version + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, ' has been removed in ' + version));\n    }\n\n    if (isDeprecated && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new TypeError('options must be an object');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError('option ' + opt + ' must be ' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error('Unknown option ' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  isOlderVersion: isOlderVersion,\n  assertOptions: assertOptions,\n  validators: validators\n};\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n"],"sourceRoot":""}