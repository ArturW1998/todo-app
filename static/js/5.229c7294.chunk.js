(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[5],{114:function(t,e,n){t.exports={root:"styles_root__1Slir"}},115:function(t,e,n){t.exports={root:"styles_root__fGMdR",completed:"styles_completed__2aSOy"}},118:function(t,e,n){"use strict";n.d(e,"a",(function(){return r.a})),n.d(e,"b",(function(){return c.a})),n.d(e,"c",(function(){return i.a})),n.d(e,"d",(function(){return o.a})),n.d(e,"e",(function(){return a.a})),n.d(e,"f",(function(){return s.a})),n.d(e,"g",(function(){return u.a})),n.d(e,"h",(function(){return d.a}));var r=n(275),c=(n(87),n(88),n(269)),i=n(10),o=n(274),a=(n(94),n(276)),s=n(89),u=n(30),d=n(273)},120:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(88),c=n(83),i=n(84),o=n(162),a=Object(i.createEvent)();c.d.$tasks.on(a,(function(t,e){return Object(o.a)(t,(function(t){var n=t[e];n.completed=!n.completed}))}));var s={toggleTask:a},u=n(3),d=function(t){var e=t.taskId,n=t.withStatus,i=void 0===n||n,o=c.d.selectors.useTask(e);if(!o)return null;var a=c.c.getTaskStatus(o);return Object(u.jsx)(r.a,{onClick:function(){return s.toggleTask(e)},checked:o.completed,children:i&&a})}},264:function(t,e,n){t.exports={root:"styles_root__3vhW2",toolbar:"styles_toolbar__2OJM3",content:"styles_content__1K7j8"}},277:function(t,e,n){"use strict";n.r(e);var r=n(118),c=n(110),i=n(84),o=n(94),a=n(83),s={1:{id:1,title:"All",config:{}},2:{id:2,title:"Opened",config:{completed:!1}},3:{id:3,title:"Closed",config:{completed:!0}}},u=Object.values(s),d=n(3),f=Object(c.reflect)({view:function(t){var e=t.loading,n=t.onFilterClick;return Object(d.jsx)(o.a.Group,{defaultValue:1,buttonStyle:"solid",children:u.map((function(t){var r=t.title,c=t.id;return Object(d.jsx)(o.a.Button,{onClick:function(){return n(function(t){return s[t]}(c).config)},value:c,disabled:e,children:r},c)}))})},bind:{loading:a.d.$tasksListLoading,onFilterClick:a.d.events.setQueryConfig}}),l=n(120),j=n(264),b=n.n(j),O=Object(c.list)({view:function(t){var e=t.task;return Object(d.jsx)(r.b,{span:24,children:Object(d.jsx)(a.b,{data:e,titleHref:"/".concat(e.id),before:Object(d.jsx)(l.a,{taskId:e.id,withStatus:!1})})},e.id)},source:a.d.$tasksFiltered,bind:{},mapItem:{task:function(t){return t}}}),p=Object(c.variant)({source:Object(i.combine)({isLoading:a.d.$tasksListLoading,isEmpty:a.d.$tasksListEmpty},(function(t){var e=t.isLoading,n=t.isEmpty;return e?"loading":n?"empty":"ready"})),cases:{loading:function(){return Object(d.jsx)(r.g,{size:"large"})},empty:function(){return Object(d.jsx)(r.c,{description:"No tasks found"})},ready:O},hooks:{mounted:a.d.effects.getTasksListFx.prepend((function(){}))}});e.default=function(){return Object(d.jsxs)(r.d,{className:b.a.root,children:[Object(d.jsxs)(r.d,{className:b.a.toolbar,children:[Object(d.jsx)(r.f,{justify:"center",children:Object(d.jsx)(r.h.Title,{level:1,children:"Tasks List"})}),Object(d.jsx)(r.f,{justify:"center",children:Object(d.jsx)(f,{})})]}),Object(d.jsx)(r.d.Content,{className:b.a.content,children:Object(d.jsx)(r.f,{gutter:[0,20],justify:"center",children:Object(d.jsx)(p,{})})})]})}},83:function(t,e,n){"use strict";n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return T})),n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return o}));var r={};n.r(r),n.d(r,"getTasksList",(function(){return D})),n.d(r,"getTaskById",(function(){return I}));var c={};n.r(c),n.d(c,"tasks",(function(){return r}));var i={};n.r(i),n.d(i,"taskSchema",(function(){return H})),n.d(i,"normalizeTask",(function(){return w})),n.d(i,"normalizeTasks",(function(){return U})),n.d(i,"tasksInitialState",(function(){return K})),n.d(i,"$tasks",(function(){return W})),n.d(i,"$queryConfig",(function(){return B})),n.d(i,"$tasksListLoading",(function(){return V})),n.d(i,"$taskDetailsLoading",(function(){return z})),n.d(i,"$tasksList",(function(){return J})),n.d(i,"$tasksFiltered",(function(){return q})),n.d(i,"$tasksListEmpty",(function(){return G})),n.d(i,"events",(function(){return M})),n.d(i,"effects",(function(){return Q})),n.d(i,"selectors",(function(){return X}));var o={};n.r(o),n.d(o,"getTaskStatus",(function(){return Y}));var a=n(98),s=n(103),u=n(19),d=n(87),f=n(114),l=n.n(f),j=n(3),b=["data","titleHref","children"],O=function(t){var e=t.data,n=t.titleHref,r=t.children,c=Object(s.a)(t,b);return e||c.loading?Object(j.jsxs)(d.a,Object(a.a)(Object(a.a)({title:"Task#".concat(c.loading?"":null===e||void 0===e?void 0:e.id),className:l.a.root},c),{},{children:[n?Object(j.jsx)(u.b,{to:n,children:null===e||void 0===e?void 0:e.title}):null===e||void 0===e?void 0:e.title,r]})):null},p=n(113),v=n(8),k=n.n(v),_=n(89),g=n(115),m=n.n(g),T=function(t){var e=t.data,n=t.before,r=t.titleHref,c=r?Object(j.jsx)(u.b,{to:r,children:e.title}):e.title;return Object(j.jsxs)(_.a,{className:k()(m.a.root,Object(p.a)({},m.a.completed,e.completed)),children:[n,c]})},h=n(84),E=n(111),S=n(161),y=n(152),x=n.n(y),L=function(t){if(void 0===Object({NODE_ENV:"production",PUBLIC_URL:"/todo-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://jsonplaceholder.typicode.com"})[t])throw new Error("Env variable ".concat(t," is required"));return Object({NODE_ENV:"production",PUBLIC_URL:"/todo-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://jsonplaceholder.typicode.com"})[t]||""},C=L("REACT_APP_API_URL"),P=(L("NODE_ENV"),x.a.create({baseURL:C})),R=["taskId"],A="/todos",D=function(t){return P.get(A,{params:t})},I=function(t){var e=t.taskId,n=Object(s.a)(t,R);return P.get("".concat(A,"/").concat(e),{params:n})},N=Object(h.createEvent)(),$=Object(h.createEffect)((function(t){return c.tasks.getTasksList(t)})),F=Object(h.createEffect)((function(t){return c.tasks.getTaskById(t)})),H=new S.b.Entity("tasks"),w=function(t){return Object(S.a)(t,H)},U=function(t){return Object(S.a)(t,[H])},K={},W=Object(h.createStore)(K).on($.doneData,(function(t,e){return U(e.data).entities.tasks})).on(F.doneData,(function(t,e){return Object(a.a)(Object(a.a)({},t),w(e.data).entities.tasks)})),B=Object(h.createStore)({}).on(N,(function(t,e){return e})),V=$.pending,z=F.pending,J=Object(h.combine)(W,(function(t){return Object.values(t)})),q=Object(h.combine)(J,B,(function(t,e){return t.filter((function(t){return void 0===e.completed||t.completed===e.completed}))})),G=q.map((function(t){return 0===t.length})),M={setQueryConfig:N},Q={getTaskByIdFx:F,getTasksListFx:$},X={useTask:function(t){return Object(E.useStore)(W)[t]}},Y=function(t){return t.completed?"CLOSED":"OPENED"}},87:function(t,e,n){"use strict";var r=n(163);n.d(e,"a",(function(){return r.a}))},88:function(t,e,n){"use strict";var r=n(166);n.d(e,"a",(function(){return r.a}))},89:function(t,e,n){"use strict";var r=n(121);n.d(e,"a",(function(){return r.a}))},94:function(t,e,n){"use strict";var r=n(164);n.d(e,"a",(function(){return r.a}))}}]);
//# sourceMappingURL=5.229c7294.chunk.js.map