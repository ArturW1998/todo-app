(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[4],{225:function(t,e,n){"use strict";n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return h})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return s}));var r={};n.r(r),n.d(r,"getTasksList",(function(){return N})),n.d(r,"getTaskById",(function(){return w}));var a={};n.r(a),n.d(a,"tasks",(function(){return r}));var c={};n.r(c),n.d(c,"taskSchema",(function(){return F})),n.d(c,"normalizeTask",(function(){return z})),n.d(c,"normalizeTasks",(function(){return H})),n.d(c,"tasksInitialState",(function(){return q})),n.d(c,"$tasks",(function(){return G})),n.d(c,"$queryConfig",(function(){return J})),n.d(c,"$tasksListLoading",(function(){return R})),n.d(c,"$taskDetailsLoading",(function(){return A})),n.d(c,"$tasksList",(function(){return M})),n.d(c,"$tasksFiltered",(function(){return P})),n.d(c,"$tasksListEmpty",(function(){return Q})),n.d(c,"events",(function(){return U})),n.d(c,"effects",(function(){return K})),n.d(c,"selectors",(function(){return V}));var s={};n.r(s),n.d(s,"getTaskStatus",(function(){return W}));var o=n(227),i=n(228),u=n(86),d=n(96),l=n(233),f=n.n(l),b=n(24),j=["data","titleHref","children"],k=function(t){var e=t.data,n=t.titleHref,r=t.children,a=Object(i.a)(t,j);return e||a.loading?Object(b.jsxs)(d.b,Object(o.a)(Object(o.a)({title:"Task#".concat(a.loading?"":null===e||void 0===e?void 0:e.id),className:f.a.root},a),{},{children:[n?Object(b.jsx)(u.b,{to:n,children:null===e||void 0===e?void 0:e.title}):null===e||void 0===e?void 0:e.title,r]})):null},O=n(232),p=n(5),g=n.n(p),v=n(234),m=n.n(v),h=function(t){var e=t.data,n=t.before,r=t.titleHref,a=r?Object(b.jsx)(u.b,{to:r,children:e.title}):e.title;return Object(b.jsxs)(d.i,{className:g()(m.a.root,Object(O.a)({},m.a.completed,e.completed)),children:[n,a]})},x=n(226),y=n(230),T=n(247),_=n(238),L=n.n(_),I=n(97),S=L.a.create({baseURL:I.a}),E=["taskId"],$="/todos",N=function(t){return S.get($,{params:t})},w=function(t){var e=t.taskId,n=Object(i.a)(t,E);return S.get("".concat($,"/").concat(e),{params:n})},B=Object(x.createEvent)(),C=Object(x.createEffect)((function(t){return a.tasks.getTasksList(t)})),D=Object(x.createEffect)((function(t){return a.tasks.getTaskById(t)})),F=new T.b.Entity("tasks"),z=function(t){return Object(T.a)(t,F)},H=function(t){return Object(T.a)(t,[F])},q={},G=Object(x.createStore)(q).on(C.doneData,(function(t,e){return H(e.data).entities.tasks})).on(D.doneData,(function(t,e){return Object(o.a)(Object(o.a)({},t),z(e.data).entities.tasks)})),J=Object(x.createStore)({}).on(B,(function(t,e){return e})),R=C.pending,A=D.pending,M=Object(x.combine)(G,(function(t){return Object.values(t)})),P=Object(x.combine)(M,J,(function(t,e){return t.filter((function(t){return void 0===e.completed||t.completed===e.completed}))})),Q=P.map((function(t){return 0===t.length})),U={setQueryConfig:B},K={getTaskByIdFx:D,getTasksListFx:C},V={useTask:function(t){return Object(y.useStore)(G)[t]}},W=function(t){return t.completed?"CLOSED":"OPENED"}},233:function(t,e,n){t.exports={root:"styles_root__1Slir"}},234:function(t,e,n){t.exports={root:"styles_root__fGMdR",completed:"styles_completed__2aSOy"}},236:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(96),a=n(225),c=n(226),s=n(248),o=Object(c.createEvent)();a.d.$tasks.on(o,(function(t,e){return Object(s.a)(t,(function(t){var n=t[e];n.completed=!n.completed}))}));var i={toggleTask:o},u=n(24),d=function(t){var e=t.taskId,n=t.withStatus,c=void 0===n||n,s=a.d.selectors.useTask(e);if(!s)return null;var o=a.c.getTaskStatus(s);return Object(u.jsx)(r.c,{onClick:function(){return i.toggleTask(e)},checked:s.completed,children:c&&o})}},271:function(t,e,n){t.exports={root:"styles_root__1aFqh",content:"styles_content__3IC4G",card:"styles_card__hyz1A"}},272:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n(86),c=n(96),s=n(229),o=n(236),i=n(225),u=n(271),d=n.n(u),l=n(24),f=Object(s.reflect)({view:function(t){var e=t.match,n=t.isLoading,s=Number(null===e||void 0===e?void 0:e.params.taskId),u=i.d.selectors.useTask(s);return Object(r.useEffect)((function(){i.d.effects.getTaskByIdFx({taskId:s})}),[s]),u||n?Object(l.jsx)(c.f,{className:d.a.root,children:Object(l.jsx)(c.f.Content,{className:d.a.content,children:Object(l.jsx)(i.a,{data:u,size:"default",loading:n,className:d.a.card,bodyStyle:{height:400},extra:Object(l.jsx)(a.b,{to:"/",children:"Back to TasksList"}),actions:[Object(l.jsx)(o.a,{taskId:s},"toggle")]})})}):Object(l.jsx)(c.h,{status:"404",title:"404",subTitle:"Task was not found",extra:Object(l.jsx)(a.b,{to:"/",children:Object(l.jsxs)(c.a,{type:"primary",children:["Back to tasks list ",s]})})})},bind:{isLoading:i.d.$taskDetailsLoading}});e.default=f}}]);
//# sourceMappingURL=4.0b8789c0.chunk.js.map